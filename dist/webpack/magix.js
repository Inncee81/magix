/*!3.8.13 MIT kooboy_li@163.com*/module.exports=(()=>{let e=require("$"),t=e.isPlainObject,r=e.isArray,n=0,i="",o=[],l=",",f=null,a=window,s=void 0,d=document,$=d.documentElement.getAttribute,h=(e,t)=>$.call(e,t),u=e(d),c=a.setTimeout,p="changed",m="change",g="pageunload",b="value",v="mxs",y="#";function w(){}let x,k=JSON.stringify,V="\x1e",I="object",T="prototype",C="params",S="path",j="mx-view",q=/[#?].*$/,A=/([^=&?\/#]+)=?([^&#?]*)/g,U=/(?!^)=|&/,E=e=>(e||"mx_")+n++,N=E(),O={rootId:E(),defaultView:N,error(e){throw e}},P=e=>typeof e==I?e:d.getElementById(e),H=e=>!e||typeof e!=I,M=(e,t,r,n)=>{let i,o,l,f=0;for(l in e)i=e[l],o=t[l],H(i)&&o===i||J(n,l)||(r[l]=1,f=1),t[l]=i;return f},_=(e,t,r)=>{if(e=P(e),t=P(t),e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:L,keys:R,hasOwnProperty:Z}=Object,B=e("head"),D=(e,t)=>{t&&!D[e]&&(D[e]=1,B.append(`<style>${t}`))},z=e=>h(e,"id")||(e.$a=1,e.id=E()),F=(e,t,n,i,l)=>{t=t||o,r(e)||(e=[e]),r(t)||(t=[t]);for(l of e)try{i=l&&l.apply(n,t)}catch(e){O.error(e)}return i},J=(e,t)=>e&&Z.call(e,t),Q=(e,t)=>{let r,n;if(H(t))(r=t+i)[0]==V&&J(e,r)&&(t=e[r]);else for(r in t)n=t[r],n=Q(e,n),t[r]=n;return t},X=(e,t)=>t.f-e.f||t.t-e.t;function G(e,t,r,n){(n=this).c=[],n.b=t||5,n.x=n.b+(e||20),n.r=r}L(G[T],{get(e){let t=this.c[V+e];return t&&(t.f++,t.t=n++,t=t.v),t},each(e,t,r,n,i){n=(r=this).c;for(i of n)e(i.v,t,r)},set(e,t){let r=this,i=r.c,o=V+e,l=i[o],f=r.b;if(!l){if(i.length>=r.x)for(i.sort(X);f--;)(l=i.pop()).f>0&&r.del(l.o);l={o:e},i.push(l),i[o]=l}l.v=t,l.f=1,l.t=n++},del(e){e=V+e;let t=this.c,r=t[e],n=this.r;r&&(r.f=-1,r.v=i,delete t[e],n&&F(n,r.o))},has(e){return J(this.c,V+e)}});let K,W=e.isFunction,Y=O.views={},ee=(e,t)=>{if(Y[N]||(Y[N]=K),!e)return t();r(e)||(e=[e]);let n,i=[],o=0,l=()=>{o||t.apply(ge,i)},f=(e,t,r)=>{(e=e(r=(e=>{i[t]||(o--,i[t]=e,l())}))).then&&e.then(r)};for(let t=0;t<e.length;t++)n=Y[e[t]],W(n)&&!n.extend?(o++,f(n,t)):i[t]=Y[e[t]];l()};function te(){}let re=(e,t,r,n,i)=>(te[T]=t[T],i=new te,L(i,r),L(e,n),i.constructor=e,e[T]=i,e),ne=e.find||e.zepto,ie=ne.matchesSelector||ne.matches,oe=(e,t)=>{t=e.data,e.eventTarget=t.e,F(t.f,e,t.v)},le=(t,r,n,i,o)=>{o&&(r+=`.${o.i}`),i?e(t).off(r,n):e(t).on(r,o,n)},fe=e=>e;let ae,se=new G,de=0,$e=(e,t,r)=>{try{r=decodeURIComponent(r)}catch(e){}ae[t]=r},he=e=>{let t,r=se.get(e);return r||(ae={},e==(t=e.replace(q,i))&&U.test(t)&&(t=i),e.replace(t,i).replace(A,$e),se.set(e,r={a:t,b:ae})),{path:r.a,params:{...r.b}}},ue=(e,t,r)=>{let n,o,l,f=[];for(o in t)n=t[o]+i,(!r||n||J(r,o))&&(n=encodeURIComponent(n),f.push(l=o+"="+n));return l&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+f.join("&")),e},ce=(e,t)=>{let r,n={};if(e)for(r of e)n[t&&r?r[t]:r]=t?r:1+(0|n[r]);return n},pe=new G,me=(e,t,r)=>(pe.has(e)?r=pe.get(e):(r=F(Function(`return ${e}`)),e.indexOf(V)>-1?Q(t,r):pe.set(e,r)),r),ge={config:(e,r)=>(r=O,e&&(r=t(e)?L(r,e):r[e]),r),boot(e){L(O,e),ee(O.ini,t=>{L(O,t,e),ee(O.exts,()=>{Fe.on(p,Ke),Ie.on(p,Ke),de=1,Ze()})})},toMap:ce,toTry:F,toUrl:ue,parseUrl:he,mix:L,has:J,keys:R,inside:_,node:P,applyStyle:D,guid:E,use:ee,Cache:G,nodeId:z,guard:fe},be={fire(e,t,r,n){let o,l,f,a,s=this,d=s[V+e];if(t||(t={}),t.type=e,d)for(l=(o=d.length)-1;o--;)(a=d[f=n?o:l-o]).f?(a.x=1,F(a.f,t,s),a.x=i):a.x||(d.splice(f,1),l--);return(d=s[`on${e}`])&&F(d,t,s),r&&s.off(e),s},on(e,t){let r=V+e;return(this[r]||(this[r]=[])).push({f:t}),this},off(e,t){let r,n=V+e,o=this,l=o[n];if(t){if(l)for(r of l)if(r.f==t){r.f=i;break}}else delete o[n],delete o[`on${e}`];return o}};ge.Event=be;let ve={},ye={},we={},xe=0,ke=e=>{e=(e+i).split(",");for(let t of e)J(ye,t)?ye[t]++:ye[t]=1;return e},Ve=e=>{let t,r;for(t of e)J(ye,t)&&((r=--ye[t])||(delete ye[t],delete ve[t]))};let Ie={get(e){let t=e?ve[e]:ve;return t},set(e,t){return xe=M(e,ve,we,t)||xe,this},digest(e,t){e&&Ie.set(e,t),xe&&(xe=0,this.fire(p,{keys:we}),we={})},diff:()=>we,clean:e=>({ctor(){e=ke(e),this.on("destroy",()=>Ve(e))}}),...be};ge.State=Ie;let Te,Ce="view",Se=new G,je=new G,qe=a.location,Ae=0,Ue={query:{},params:{},href:i},Ee=/(?:^.*\/\/[^\/]+|#.*$)/gi,Ne=/^[^#]*#?!?/;function Oe(e,t){return this[C][e]||t!==s&&t||i}let Pe,He,Me,_e,Le,Re=(e,t)=>{e="#!"+e,t?qe.replace(e):qe.hash=e},Ze=()=>{let e,t,r=De().srcHash;le(a,"hashchange",(n,o,l)=>{t||(o=De(),(e=o.srcHash)!=r&&(l=(()=>{n.p=1,r=e,t=i,Re(e),ze()}),n={reject(){n.p=1,t=i,Re(r)},resolve:l,prevent(){t=1}},Fe.fire(m,n),t||n.p||l()))}),le(a,"beforeunload",(e,t,r)=>{if(e=e||a.event,t={},Fe.fire(g,t),r=t.msg)return e&&(e.returnValue=r),r}),ze()},Be=d.title,De=e=>{e=e||qe.href;let r,n,o,l,f,a=Se.get(e);return a||(a={get:Oe,href:e,srcQuery:r=e.replace(Ee,i),srcHash:n=e.replace(Ne,i),query:o=he(r),hash:l=he(n),params:f={...o[C],...l[C]}},de&&(((e,r)=>{if(Pe||(Pe=O.routes||{},He=O.unmatchView,Me=O.defaultView,_e=O.defaultPath||"/",Le=O.rewrite),!e[Ce]){let n=e.hash[S]||_e;Le&&(n=Le(n,e[C],Pe)),r=Pe[n]||He||Me,e[S]=n,e[Ce]=r,t(r)&&L(e,r)}})(a),Se.set(e,a))),a},ze=()=>{let e=De(),t=((e,t)=>{let r=e.href,n=t.href,i=r+V+n,o=je.get(i);if(!o){let n,l;o={params:l={},force:!r};let f,a=e[C],s=t[C],d=R(a).concat(R(s)),$=e=>{let t=a[e],r=s[e];t!=r&&(l[e]={from:t,to:r},n=1)};for(f of d)$(f);a=e,s=t,l=o,$(S),$(Ce),je.set(i,o={a:n,b:o})}return o})(Ue,Ue=e);return!Ae&&t.a&&((Te=t.b)[S]&&(d.title=e.title||Be),Fe.fire(p,Te)),Ae=0,Te},Fe={parse:De,diff:ze,to(e,r,n,o){!r&&t(e)&&(r=e,e=i);let l=he(e),f=l[C],a=l[S],s=Ue[S],d=Ue[C],$=Ue.query[C];if(L(f,r),a)for(s in $)J(f,s)||(f[s]=i);else d&&(a=s,f={...d,...f});var h,u,c,p;u=Ue,c=n,p=o,(h=ue(h=a,f,$))!=u.srcHash&&(Ae=p,Re(h,c))},...be};ge.Router=Fe;let Je,Qe,Xe=0,Ge=(e,t,r,n,i,o)=>{if(e&&e.$a!=Xe&&(r=e.$v)&&r.$a>1){(t?((e,t,r)=>{let n,i=e.$os;if(i)for(n of i)if(r=J(t,n))break;return r})(r,t):Wt(r))&&r.$b(),i=e.children();for(o of i)Ge(We[o],t)}},Ke=(e,t,r)=>{t=rt(),(r=e[Ce])?t.mountView(r.to):(Xe=n++,Ge(t,e.keys))},We={},Ye=e=>{if(!e.$b&&!e.$d&&e.$cc==e.$rc){e.$cr||(e.$cr=1,e.$ca=0,e.fire("created"));let{id:t,pId:r}=e,n=We[r];n&&!J(n.$e,t)&&(n.$e[t]=1,n.$rc++,Ye(n))}},et=(e,t)=>{if(!e.$ca&&e.$cr){e.$cr=0,e.$ca=1,e.fire("alter",t);let{id:r,pId:n}=e,i=We[n];i&&J(i.$e,r)&&(i.$rc--,delete i.$e[r],et(i,t))}},tt=(e,t,r,n)=>(n=(n=(n=We[e])&&n.$v)?n.$d.$a:{},t.indexOf(V)>0&&Q(n,r),n),rt=e=>(Je||(x=d.body,e=O.rootId,P(e)||(x.id=e),Je=new lt(e)),Je),nt=(e,t)=>{J(We,e)||(We[e]=t,lt.fire("add",{vframe:t}),(e=P(e))&&(e.vframe=t))},it=(e,t,r)=>{for(t=e.$f;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]},ot=[];function lt(e,t,r){(r=this).id=e,r.$c={},r.$cc=0,r.$rc=0,r.$g=r.$g||1,r.$e={},r.$f=[],r.pId=t,nt(e,r)}L(lt,{all:()=>We,get:e=>We[e]},be),L(lt[T],be,{mountView(e,t){let r,n,o,l,f,a=this,s=a.id,d=P(s),$=a.pId;!a.$h&&d&&(a.$h=1,a.$i=d.innerHTML),a.unmountView(),a.$b=0,r=he(e||i),o=r[S],d&&o&&(a[S]=e,l=r[C],tt($,e,l),a.$j=r[S],L(l,t),n=a.$g,ee(o,e=>{if(n==a.$g){if(!e)return O.error(Error(`id:${s} cannot load:${o}`));f=Kt(e),o=new e(s,a,l,d,f),a.$v=o,a.$a=Xe,Jt(o),(l=F(o.init,[l,{node:d,deep:!o.tmpl}],o))||(l={then:e=>e()}),n=++a.$g,l.then(()=>{n==a.$g&&(o.$b(),o.tmpl||(a.$h=0,o.$e||o.endUpdate()))})}}))},unmountView(){let t,r,n=this,{$v:i,id:o}=n;n.$f=[],i&&(Qe||(r=1,Qe={id:o}),n.$b=1,n.unmountZone(0,1),et(n,Qe),n.$v=0,i.$a>0&&(i.$a=0,delete $t[o],delete ht[o],i.fire("destroy",0,1,1),Dt(i,1),Jt(i,1),i.owner=0),i.$a--,(t=P(o))&&n.$h&&e(t).html(n.$i),r&&(Qe=0)),n.$g++},mountVframe(e,t,r){let n,i=this,o=i.id,l=i.$c;return et(i,{id:e}),(n=We[e])||(J(l,e)||(i.$n=0,i.$cc++),l[e]=e,(n=ot.pop())?lt.call(n,e,o):n=new lt(e,o)),n.mountView(t,r),n},mountZone(t,r){let n,i,o=this,l=[];t=t||o.id;let f=e(`#${t} [${j}]`);o.$d=1;for(n of f)n.$b||(i=z(n),n.$b=1,l.push([i,h(n,j)]));for([i,n]of l)o.mountVframe(i,n);o.$d=0,r||Ye(o)},unmountVframe(e,t){let r;if(e=e?this.$c[e]:this.id,r=We[e]){let{$cr:l,pId:f}=r;r.unmountView(),i=l,(o=We[n=e])&&(delete We[n],lt.fire("remove",{vframe:o,fcc:i}),(n=P(n))&&(n.$b=0,n.vframe=0,n.$a=0)),r.id=r.pId=r.$c=r.$e=0,r.$h=0,r.off("alter"),r.off("created"),ot.push(r),(r=We[f])&&J(r.$c,e)&&(delete r.$c[e],r.$n=0,r.$cc--,t||Ye(r))}var n,i,o},unmountZone(e,t){let r,n=this;for(r in n.$c)(!e||r!=e&&_(r,e))&&n.unmountVframe(r,1);t||Ye(n)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=We[t.pId];return t},children(e){return(e=this).$n||(e.$n=R(e.$c))},invoke(e,t){let r,n,i,o,l,f=this.$f;return(n=this.$v)&&n.$e?r=(i=n[e])&&F(i,t,n):((o=f[l=V+e])&&(o.r=t===o.a),o={n:e,a:t,k:l},f.push(o),f[l]=o),r}}),ge.Vframe=lt,e.fn.invokeView=function(e,t){let r,n,i=[];for(r of this)n=r.vframe,i.push(n&&n.invoke(e,t));return i};let ft=new G(30,10),at=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,st={},dt={},$t={},ht={},ut=0,ct=(e,t)=>{let r,n,i,l,f,a,s=[],d=e,$=h(e,`mx-${t}`),u=[],c=y,p=0;if($&&((f=ft.get($))||(f={v:(f=$.match(at)||o)[1],n:f[2],i:f[3]},ft.set($,f)),f={...f,r:$}),f&&!f.v||dt[t]){if((i=ht[n=d.$d])&&1==i[d.$e]&&(a=1,c=n),!a){for(u.push(d);d!=x&&(d=d.parentNode);){if(We[n=d.id]||(i=ht[n=d.$d])&&1==i[d.$e]){c=n;break}u.push(d)}for($ of u)(n=ht[c])||(n=ht[c]={}),n[i=$.$e||($.$e=++ut)]=1,$.$d=c}d=e.id,We[d]&&(p=c=d);do{if((r=We[c])&&(a=r.$v)){if(l=(i=a.$so)[t])for(d=l.length;d--;)i={r:n=l[d],v:c,n:n},n?!p&&ie(e,n)&&s.push(i):p&&s.unshift(i);if(a.tmpl&&!p){f&&!f.v&&(f.v=c);break}p=0}}while(r&&(c=r.pId))}return f&&s.push(f),s},pt=e=>{let t,r,n,i,o,l,f,a,{target:s,type:d}=e,$=[];for(;s!=x;){if((t=ct(s,d)).length){$=[];for(let{v:r,r:$,n:h,i:u}of t){if(f!=r){if(f&&e.isPropagationStopped())break;f=r}(i=(n=We[r])&&n.$v)?(l=i[o=h+V+d])&&(e.eventTarget=s,a=u?me(u,i.$d.$a):{},e[C]=a,F(l,e,i)):e.stopPropagation()}}if((r=$t[l=s.$d])&&(r=r[s.$e])&&r[d]||e.isPropagationStopped()){$.length&&$.push(l);break}f=s.id,We[f]&&$.push(f),$.push(s),s=s.parentNode||x}if(l=$.length)for(r=y;l--;)(i=$[l]).nodeType?((t=$t[r])||(t=$t[r]={}),(a=t[f=i.$e||(i.$e=++ut)])||(a=t[f]={}),a[d]=1):r=i},mt=(e,t,r)=>{let n=0|st[e],i=r?-1:1;n&&r!==n||le(x,e,pt,r),st[e]=n+i,t&&(dt[e]=(0|dt[e])+i)},gt="http://www.w3.org/2000/svg",bt="http://www.w3.org/1998/Math/MathML",vt={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],g:[1,`<svg xmlns="${gt}">`],m:[1,`<math xmlns="${bt}">`],_:[0,""]},yt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;let wt=d.implementation.createHTMLDocument(i),xt=wt.createElement("base");xt.href=d.location.href,wt.head.appendChild(xt);let kt=(e,t)=>{if(1==t.nodeType){let r=z(t);e.$c[r]?e.unmountVframe(r,1):e.unmountZone(r,1)}},Vt={INPUT:[b,"checked"],TEXTAREA:[b],OPTION:["selected"]},It=(e,t)=>(1==e.nodeType&&(e.$f?t=e.$g:((t=e.$a?i:h(e,"id"))||(t=h(e,v)),t||(t=h(e,j))&&(t=he(t)[S]),e.$f=1,e.$g=t)),t),Tt=(e,t,r,n,i)=>{let o,l,f,a,s,d=e.lastChild,$=t.firstChild,h=0,u={},c={};for(;d;)h++,(f=It(d))&&(f=u[f]||(u[f]=[])).push(d),d=d.previousSibling;for(;$;)(f=It($))&&(c[f]=(c[f]||0)+1),$=$.nextSibling;for($=t.firstChild,d=e.firstChild;$;)if(h--,o=$,$=$.nextSibling,(a=u[f=It(o)])&&(a=a.pop())){for(;a!=d;)s=d.nextSibling,e.appendChild(d),d=s;d=a.nextSibling,c[f]&&c[f]--,Ct(a,o,e,r,n,i)}else d?(f=It(l=d))&&u[f]&&c[f]?(h++,r.c=1,r.n.push([8,e,o,l])):(d=d.nextSibling,Ct(l,o,e,r,n,i)):(r.c=1,r.n.push([1,e,o]));for(l=e.lastChild;h-- >0;)kt(n,l),r.n.push([2,e,l]),l=l.previousSibling,r.c=1},Ct=(e,t,r,n,o,f)=>{if(((e,t)=>{let r,n=e.nodeName,i=Vt[n],o=0;if(i)for(r of i)e[r]!=t[r]&&(o=1,e[r]=t[r]);return o})(e,t)||1==e.nodeType&&e.hasAttribute("mxv")||!e.isEqualNode||!e.isEqualNode(t))if(e.nodeName===t.nodeName)if(1===e.nodeType){let r=h(t,v);if(r&&r==h(e,v))return;let a,s,d,$,u,c,p,m=h(t,j),g=t.innerHTML,w=h(t,"mxa"),x=!w||w!=h(e,"mxa"),k=We[h(e,"id")],V=m&&he(m);if(m&&k&&(!h(t,"id")||h(t,"id")==h(e,"id"))&&k.$j==V[S]&&($=k.$v)){if(c=g!=k.$i,p=m!=k[S],d=h(e,"mxv"),!c&&!p&&d){u=d.split(l);for(d of u)if(d==y||J(f,d)){p=1;break}}(p||c)&&((d=$.$e&&$.$f)?(u=V[C],tt(k.pId,m,u),k.$i=g,k[S]=m,V={node:t,deep:!$.tmpl,attr:x,inner:c,query:p,keys:f},F(d,[u,V],$)&&n.v.push($),a=V.deep):(s=1,a=1))}else a=1,s=k;s&&(n.c=1,k.unmountVframe(0,1)),x&&((e,t,r,n)=>{let o,l,f,a;delete e.$f;let s=e.attributes,d=t.attributes;for(l=s.length;l--;)o=s[l].name,t.hasAttribute(o)||("id"==o?n||r.d.push([e,i]):(r.c=1,e.removeAttribute(o)));for(l=d.length;l--;)f=(o=d[l]).name,a=o[b],h(e,f)!=a&&("id"==f?r.d.push([e,a]):(r.c=1,e.setAttribute(f,a)))})(e,t,n,k&&m),a&&Tt(e,t,n,o,f)}else e.nodeValue!==t.nodeValue&&(n.c=1,e.nodeValue=t.nodeValue);else kt(o,e),n.c=1,n.n.push([4,r,t,e])},St={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},jt=/[&<>"'\`]/g,qt=e=>""+(null==e?"":e),At=e=>`&${St[e]};`,Ut=e=>qt(e).replace(jt,At),Et=(e,t,r,n)=>{for(n=e[V];--n;)if(e[r=V+n]===t)return r;return e[r=V+e[V]++]=t,r},Nt={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Ot=e=>Nt[e],Pt=/[!')(*]/g,Ht=e=>encodeURIComponent(qt(e)).replace(Pt,Ot),Mt=/[\\'"]/g,_t=e=>qt(e).replace(Mt,"\\$&"),Lt=(e,t)=>{let r,n,i=e.$k,o=e.$c,l=e.$b,f=We[l],a=f&&f.$v,s={d:[],v:[],n:[]},d=P(l),$=e.$d,h=e.$a,c=r=>{t.i<t.length?Lt(e,t):(s=t.slice(),t.i=t.length=0,r&&a.fire("domready"),F(s))};if(t.i=t.length,e.$c=0,e.$k={},o&&a&&a.$a>0&&(r=a.tmpl)&&a.$d==e){a.fire("dompatch"),delete $t[l],delete ht[l],n=((e,t)=>{let r,n=wt.createElement("div"),i=t.namespaceURI;r=i==gt?"g":i==bt?"m":(yt.exec(e)||[0,""])[1];let o=vt[r]||vt._;n.innerHTML=o[1]+e;let l=o[0];for(;l--;)n=n.lastChild;return n})(r($,l,h,Ut,qt,Ht,Et,_t),d),Tt(d,n,s,f,i);for(n of s.d)n[0].id=n[1];for(n of s.n)1==n[0]?n[1].appendChild(n[2]):2==n[0]?n[1].removeChild(n[2]):4==n[0]?n[1].replaceChild(n[2],n[3]):n[1].insertBefore(n[2],n[3]);f.$d=r=s.c||!a.$e;for(n of s.v)n.$b();r&&a.endUpdate(l),s.c&&u.trigger({type:"htmlchanged",vId:l}),c(1)}else c()};function Rt(e){let t=this;t.$b=e,t.$c=1,t.$d={vId:e},t.$a={[V]:1},t.$e=[],t.$k={}}L(Rt[T],{get(e,t){return t=this.$d,e&&(t=t[e]),t},set(e,t){let r=this;return r.$c=M(e,r.$d,r.$k,t)||r.$c,r},digest(e,t,r){let n=this.set(e,t),i=n.$e;r&&i.push(r),i.i||Lt(n,i)},snapshot(){return this.$f=k(this.$d),this},altered(){let e=this;if(e.$f)return e.$f!=k(e.$d)},translate(e){return Q(this.$d,e)},parse(e){return me(e,this.$a)}});let Zt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Bt=(e,t,r)=>(e.a?r=e:((r=function(e){F(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),Dt=(e,t)=>{let r,n,i=e.$r;for(r in i)n=i[r],(t||n.x)&&zt(i,r,1)},zt=(e,t,r,n)=>{let i,l,f=e[t];return f&&f!=n&&((i=(l=f.e).destroy)&&r&&F(i,o,l),delete e[t]),l},Ft=(e,t,r,n,i)=>{n=e[t],e[t]=e[r]=function(...e){(i=this).$a>0&&(i.$a++,i.fire("rendercall"),Dt(i),F(n,e,i))}},Jt=(e,t)=>{let r,{$eo:n,$so:i,$el:o,id:l}=e;for(r in n)mt(r,i[r],t);for(r of o)le(r.e,r.n,oe,t,{i:l,v:e,f:r.f,m:r.m,e:r.e})},Qt={win:a,doc:d},Xt=(e,t,r)=>{let n,i,o,l,f={};for(i of e)for(n in i)o=i[n],l=f[n],"ctor"!=n?(Zt.test(n)&&(l?o=Bt(l,o):o.b=1),f[n]=o):r.push(o);for(n in f)J(t,n)||(t[n]=f[n])};function Gt(...e){let t=this._||(this._=[]);return Xt(e,this[T],t),this}let Kt=e=>{if(!e[V]){e[V]=[];let t,r,n,i,o,f,a,s,d,$,h,u=e[T],c={},p=[],m={};(r=u.mixins)&&Xt(r,u,e[V]);for(a in u)if(t=u[a],r=a.match(Zt)){if([,f,n,i,h]=r,$={},h){h=h.split(l);for(s of h)$[s]=!0}i=i.split(l);for(s of i){if(o=Qt[n],d=1,f){if(o){p.push({f:t,e:o,n:s,m:$});continue}d=2,(o=m[s])||(o=m[s]=[]),o[n]||(o[n]=1,o.push(n))}c[s]=c[s]|d,(o=u[s=n+V+s])?o.b&&(t.b?u[s]=Bt(t,o):J(u,a)&&(u[s]=t)):u[s]=t}}Ft(u,"render","$b"),u.$eo=c,u.$el=p,u.$so=m,u.$f=u.assign}return e[V]},Wt=e=>{let t,r,n,i=e.$l;if(i.f&&(i.p&&(t=Te[S]),!t&&i.k)){n=Te[C];for(r of i.k)if(t=J(n,r))break}return t};function Yt(e,t,r,n,i){(i=this).owner=t,i.id=e,i.$l={k:[]},i.$r={},i.$a=1,i.updater=i.$d=new Rt(i.id),(e=Yt._)&&F(e,[r,{node:n,deep:!i.tmpl}],i)}L(Yt,{merge:Gt,extend:function e(t,r){let n=this,i=(t=t||{}).ctor,o=[];function l(e,t,r,i,f,a,s,d,$){n.call(s=this,e,t,r,i,f),a=l._,d=[r,{node:i,deep:!s.tmpl}],a&&F(a,d,s),($=o.concat(f)).length&&F($,d,s)}return i&&o.push(i),l.merge=Gt,l.extend=e,re(l,n,t,r)}}),L(Yt[T],be,{init:w,beginUpdate(e,t){(t=this).$a>0&&t.$e&&t.owner.unmountZone(e,1)},endUpdate(e,t,r,n,i){(r=this).$a>0&&(e=e||r.id,t?i=t:(i=r.$e,r.$e=1),(n=r.owner).mountZone(e,t),i||c(r.wrapAsync(it),0,n))},wrapAsync(e,t){let r=this,n=r.$a;return(...i)=>{if(n>0&&n==r.$a)return e.apply(t||r,i)}},observeLocation(e,r){let n;(n=this.$l).f=1,t(e)&&(r=e[S],e=e[C]),n.p=r,e&&(n.k=(e+i).split(l))},observeState(e){this.$os=(e+i).split(l)},capture(e,t,r,n){return n=this.$r,t?(zt(n,e,1,t),n[e]={e:t,x:r}):t=(n=n[e])&&n.e,t},release(e,t){return zt(this.$r,e,t)},leaveTip(e,t){let r=this,n=i=>{let o="a",l="b";i.type!=m&&(o="b",l="a"),n[o]?(i.prevent(),i.reject()):t()&&(i.prevent(),n[l]=1,r.leaveConfirm(()=>{n[l]=0,i.resolve()},()=>{n[l]=0,i.reject()},e))},i=r=>{t()&&(r.msg=e)};Fe.on(m,n),Fe.on(g,i),r.on("unload",n),r.on("destroy",()=>{Fe.off(m,n),Fe.off(g,i)})},render:w}),ge.View=Yt;let er=e.type,tr=Date.now;function rr(){this.id=E("b"),this.$={}}L(rr[T],{get(e,t){let n,o=this.$;if(e){let t,n=r(e)?e.slice():(e+i).split(".");for(;(t=n.shift())&&o;)o=o[t];t&&(o=s)}return t!==s&&(n=er(t))!=er(o)&&(o=t),o},set(e,r){t(e)||(e={[e]:r}),L(this.$,e)}});function nr(e,t,r){(r=this[e])&&(delete this[e],F(r,t,r.e))}let ir=(e,t,r,n,i,o)=>{let l=[],a=f,s=0;return function(d,$){s++;let h,u,c=this,p=c.$b,m=p.k;if(l[d+1]=c,$?(a=$,h=1):o.has(m)||(m&&o.set(m,c),p.t=tr(),(u=p.a)&&F(u,c,c),(u=p.x)&&t.clear(u),h=1),!r.$d){let t=s==n;t&&(r.$e=0,2==i&&(l[0]=a,F(e,l,r))),1==i&&F(e,[$||f,c,t,d],r)}h&&t.fire("end",{bag:c,error:$})}},or=(e,t,n,i,o)=>{if(e.$d)return e;if(e.$e)return e.enqueue(or.bind(e,e,t,n,i,o));e.$e=1,r(t)||(t=[t]);let l=e.constructor,f=0,a=l.$f,s=ir(n,l,e,t.length,i,l.$c);for(let e of t)if(e){let t,r=l.get(e,o),n=r.e,i=n.$b.k,d=s.bind(n,f++);i&&a[i]?a[i].push(d):r.u?(i&&((t=[d]).e=n,a[i]=t,d=nr.bind(a,i)),l.$s(n,d)):d()}return e};function lr(){let e=this;e.id=E("s"),e.$g=[]}L(lr[T],{all(e,t){return or(this,e,t,2)},save(e,t){return or(this,e,t,2,1)},one(e,t){return or(this,e,t,1)},enqueue(e){let t=this;return t.$d||(t.$g.push(e),t.dequeue(t.$h)),t},dequeue(...e){let t,r=this;r.$e||r.$d||(r.$e=1,c(()=>{r.$e=0,r.$d||(t=r.$g.shift())&&F(t,r.$h=e)},0))},destroy(e){(e=this).$d=1,e.$g=0}});let fr=(e,t)=>[k(t),k(e)].join(V),ar=(e,t,r,n)=>{(n=e&&e.$b)&&t[n.n]&&r.del(n.k)},sr={add(e){let t,n=this.$b;r(e)||(e=[e]);for(t of e)if(t){let{name:e,cache:r}=t;t.cache=0|r,n[e]=t}},create(e){let r=this.meta(e),n=0|e.cache||r.cache,i=new rr;i.set(r),i.$b={n:r.name,a:r.after,x:r.cleans,k:n&&fr(r,e)},t(e)&&i.set(e);let o=r.before;return o&&F(o,i,i),this.fire("begin",{bag:i}),i},meta(e){return this.$b[e.name||e]||e},get(e,t){let r,n,i=this;return t||(r=i.cached(e)),r||(r=i.create(e),n=1),{e:r,u:n}},clear(e){this.$c.each(ar,ce((e+i).split(l)))},cached(e){let t,r,n=this,i=n.$c,o=n.meta(e),l=0|e.cache||o.cache;if(l&&(r=fr(o,e)),r){let e=n.$f[r];e?t=e.e:(t=i.get(r))&&tr()-t.$b.t>l&&(i.del(r),t=0)}return t},...be};return lr.extend=((e,t,r)=>{function n(){lr.call(this)}return n.$s=e,n.$c=new G(t,r),n.$f={},n.$b={},re(n,lr,f,sr)}),ge.Service=lr,L(w[T],be),w.extend=function e(t,r){let n=this,i=t&&t.ctor;function o(...e){n.apply(this,e),i&&i.apply(this,e)}return o.extend=e,re(o,n,t,r)},ge.Base=w,K=Yt.extend(),ge.addView=((e,t)=>{Y[e]=t}),ge})();