/*!3.8.12 MIT kooboy_li@163.com*/define("magix",function(){var o=function(t){return Object.prototype.toString.call(t).slice(8,-1)},t=function(e){return function(t){return o(t)==e}},v=t("Object"),S=t("Array"),d=function(t){return w.querySelectorAll(t)},b=function(t,e,n){var r=w.createEvent("Events");for(var i in r.initEvent(e,!0,!0),n)r[i]=n[i];t.dispatchEvent(r)},s=function(t){return t._mx||(t._mx=O("e"))},h={},a=function(){return!0},f=function(){return!1},c={preventDefault:"isDefaultPrevented",stopPropagation:"isPropagationStopped"},u=function(e,t,n,r){var i=s(e),o=h[i]||(h[i]=[]),u={a:n&&n.i,b:r,c:t,d:function(t){t=function(i){if(!i.isDefaultPrevented){var t=function(t){var n=c[t],r=i[t];i[t]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i[n]=a,r&&r.apply(i,t)},i[n]=f};for(var e in c)t(e);(void 0!==i.defaultPrevented?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(i.isDefaultPrevented=a)}return i}(t),r.call(e,t,n)}};o.push(u),e.addEventListener(t,u.d,n&&n.m)},$=function(t,e){t.eventTarget=e.e,nt(e.f,t,e.v)},p=function(t,e,n,r,i){r?function(t,e,n,r){var i=s(t),o=h[i];if(o){for(var u=void 0,a=void 0,f=o.length;f--;)if((a=o[f]).c==e&&a.b===r){var c=a.a;if(!n||n&&n.i==c){u=a,o.splice(f,1);break}}u&&t.removeEventListener(e,u.d,n&&n.m)}}(t,e,i,n):u(t,e,i,n)},l=0,x="",y=[],A=",",j=null,g=window,m=void 0,w=document,k=g.setTimeout,n="changed",V="change",I="pageunload",T="value",C="mxs",P="#";function e(){}var E,r=JSON.stringify,M="\x1e",i="object",_="prototype",q="params",U="path",N="mx-view",D=/[#?].*$/,H=/([^=&?\/#]+)=?([^&#?]*)/g,L=/(?!^)=|&/,O=function(t){return(t||"mx_")+l++},R=O(),Z={rootId:O(),defaultView:R,error:function(t){throw t}},B=function(t){return typeof t==i?t:w.getElementById(t)},z=function(t){return!t||typeof t!=i},F=function(t,e,n,r){var i,o,u,a=0;for(u in t)i=t[u],o=e[u],z(i)&&o===i||rt(r,u)||(a=n[u]=1),e[u]=i;return a},J=function(t,e,n){if(t=B(t),e=B(e),t&&e&&!(n=t==e))try{n=16==(16&e.compareDocumentPosition(t))}catch(t){}return n};function Q(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])rt(e,i)&&(t[i]=e[i]);return t}var X,G=function(t,e,n){for(n in e=[],t)rt(t,n)&&e.push(n);return e},K=Z.hasOwnProperty,W=document.head,Y=document.createElement("div"),tt=function(t,e){e&&!tt[t]&&(tt[t]=1,Y.innerHTML="<style>"+e,W.appendChild(Y.firstChild))},et=function(t){return t.id||(t.$a=1,t.id=O())},nt=function(t,e,n,r,i){e=e||y,S(t)||(t=[t]),S(e)||(e=[e]);for(var o=0,u=t;o<u.length;o++){i=u[o];try{r=i&&i.apply(n,e)}catch(t){Z.error(t)}}return r},rt=function(t,e){return t&&K.call(t,e)},it=function(t,e){var n,r;if(z(e))(n=e+x)[0]==M&&rt(t,n)&&(e=t[n]);else for(n in e)r=e[n],r=it(t,r),e[n]=r;return e},ot=function(t,e){return e.f-t.f||e.t-t.t};function ut(t,e,n,r){(r=this).c=[],r.b=e||5,r.x=r.b+(t||20),r.r=n}Q(ut[_],{get:function(t){var e=this.c[M+t];return e&&(e.f++,e.t=l++,e=e.v),e},each:function(t,e,n){for(var r=0,i=(n=this).c;r<i.length;r++)t(i[r].v,e,n)},set:function(t,e){var n=this.c,r=M+t,i=n[r],o=this.b;if(!i){if(n.length>=this.x)for(n.sort(ot);o--;)0<(i=n.pop()).f&&this.del(i.o);i={o:t},n.push(i),n[r]=i}i.v=e,i.f=1,i.t=l++},del:function(t){t=M+t;var e=this.c,n=e[t],r=this.r;n&&(n.f=-1,n.v=x,delete e[t],r&&nt(r,n.o))},has:function(t){return rt(this.c,M+t)}});var at=function(t,o){if(t){var u=[],e=void 0;if(R==t)X||(X=We.extend()),o(X);else if(g.seajs)seajs.use(t,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t;n<r.length;n++){var i=r[n];u.push(i&&i.__esModule&&i.default||i)}o&&o.apply(void 0,u)});else{S(t)||(t=[t]);for(var n=0,r=t;n<r.length;n++)e=r[n],e=require(e),u.push(e&&e.__esModule&&e.default||e);o&&o.apply(void 0,u)}}else o()};function ft(){}var ct,st=function(t,e,n,r,i){return ft[_]=e[_],Q(i=new ft,n),Q(t,r),(i.constructor=t)[_]=i,t},ht=function(t){return t},dt=new ut,lt=0,vt=function(t,e,n){try{n=decodeURIComponent(n)}catch(t){}ct[e]=n},$t=function(t){var e,n=dt.get(t);return n||(ct={},t==(e=t.replace(D,x))&&L.test(e)&&(e=x),t.replace(e,x).replace(H,vt),dt.set(t,n={a:e,b:ct})),{path:n.a,params:Q({},n.b)}},pt=function(t,e,n){var r,i,o,u=[];for(i in e)r=e[i]+x,(!n||r||rt(n,i))&&(r=encodeURIComponent(r),u.push(o=i+"="+r));return o&&(t+=(t&&(~t.indexOf("?")?"&":"?"))+u.join("&")),t},gt=function(t,e){var n,r={};if(t)for(var i=0,o=t;i<o.length;i++)n=o[i],r[e&&n?n[e]:n]=e?n:1+(0|r[n]);return r},mt=new ut,bt=function(t,e,n){return mt.has(t)?n=mt.get(t):(n=nt(Function("return "+t)),-1<t.indexOf(M)?it(e,n):mt.set(t,n)),n},yt={config:function(t,e){return e=Z,t&&(e=v(t)?Q(e,t):e[t]),e},boot:function(t){Q(Z,t),at(Z.exts,function(){Xt.on(n,te),It.on(n,te),lt=1,zt()})},toMap:gt,toTry:nt,toUrl:pt,parseUrl:$t,mix:Q,has:rt,keys:G,inside:J,node:B,applyStyle:tt,guid:O,Cache:ut,use:at,fire:b,type:o,nodeId:et,guard:ht},wt={fire:function(t,e,n,r){var i,o,u,a,f=this,c=f[M+t];if(e||(e={}),e.type=t,c)for(o=(i=c.length)-1;i--;)(a=c[u=r?i:o-i]).f?(a.x=1,nt(a.f,e,f),a.x=x):a.x||(c.splice(u,1),o--);return(c=f["on"+t])&&nt(c,e,f),n&&f.off(t),f},on:function(t,e){var n=M+t;return(this[n]||(this[n]=[])).push({f:e}),this},off:function(t,e){var n,r=M+t,i=this[r];if(e){if(i)for(var o=0,u=i;o<u.length;o++)if((n=u[o]).f==e){n.f=x;break}}else delete this[r],delete this["on"+t];return this}};yt.Event=wt;var xt={},kt={},Vt={},At=0,St=function(t){for(var e=0,n=t=(t+x).split(",");e<n.length;e++){var r=n[e];rt(kt,r)?kt[r]++:kt[r]=1}return t},jt=function(t){for(var e,n=0,r=t;n<r.length;n++)e=r[n],rt(kt,e)&&(--kt[e]||(delete kt[e],delete xt[e]))};var It=Q({get:function(t){var e=t?xt[t]:xt;return e},set:function(t,e){return At=F(t,xt,Vt,e)||At,this},digest:function(t,e){(t&&It.set(t,e),At)&&(At=0,this.fire(n,{keys:Vt}),Vt={})},diff:function(){return Vt},clean:function(t){return{ctor:function(){t=St(t),this.on("destroy",function(){return jt(t)})}}}},wt);yt.State=It;var Tt,Ct="view",Pt=new ut,Et=new ut,Mt=g.location,_t=0,qt={query:{},params:{},href:x},Ut=/(?:^.*\/\/[^\/]+|#.*$)/gi,Nt=/^[^#]*#?!?/;function Dt(t,e){return this[q][t]||e!==m&&e||x}var Ht,Lt,Ot,Rt,Zt,Bt=function(t,e){t="#!"+t,e?Mt.replace(t):Mt.hash=t},zt=function(){var r,i,o=Jt().srcHash;p(g,"hashchange",function(t,e,n){i||(e=Jt(),(r=e.srcHash)!=o&&(n=function(){t.p=1,i=x,Bt(o=r),Qt()},t={reject:function(){t.p=1,i=x,Bt(o)},resolve:n,prevent:function(){i=1}},Xt.fire(V,t),i||t.p||n()))}),p(g,"beforeunload",function(t,e,n){if(t=t||g.event,e={},Xt.fire(I,e),n=e.msg)return t&&(t.returnValue=n),n}),Qt()},Ft=w.title,Jt=function(t){t=t||Mt.href;var e,n,r,i,o=Pt.get(t);return o||(o={get:Dt,href:t,srcQuery:e=t.replace(Ut,x),srcHash:n=t.replace(Nt,x),query:r=$t(e),hash:i=$t(n),params:Q({},r[q],i[q])},lt&&(!function(t,e){if(Ht||(Ht=Z.routes||{},Lt=Z.unmatchView,Ot=Z.defaultView,Rt=Z.defaultPath||"/",Zt=Z.rewrite),!t[Ct]){var n=t.hash[U]||Rt;Zt&&(n=Zt(n,t[q],Ht)),e=Ht[n]||Lt||Ot,t[U]=n,t[Ct]=e,v(e)&&Q(t,e)}}(o),Pt.set(t,o))),o},Qt=function(){var t=Jt(),e=function(t,e){var n=t.href,r=e.href,i=n+M+r,o=Et.get(i);if(!o){var u,a;o={params:a={},force:!n};for(var f=t[q],c=e[q],s=function(t){var e=f[t],n=c[t];e!=n&&(a[t]={from:e,to:n},u=1)},h=0,d=G(f).concat(G(c));h<d.length;h++)s(d[h]);f=t,c=e,a=o,s(U),s(Ct),Et.set(i,o={a:u,b:o})}return o}(qt,qt=t);return!_t&&e.a&&((Tt=e.b)[U]&&(w.title=t.title||Ft),Xt.fire(n,Tt)),_t=0,Tt},Xt=Q({parse:Jt,diff:Qt,to:function(t,e,n,r){!e&&v(t)&&(e=t,t=x);var i,o,u,a,f=$t(t),c=f[q],s=f[U],h=qt[U],d=qt[q],l=qt.query[q];if(Q(c,e),s)for(h in l)rt(c,h)||(c[h]=x);else d&&(s=h,c=Q({},d,c));o=qt,u=n,a=r,(i=pt(i=s,c,l))!=o.srcHash&&(_t=a,Bt(i,u))}},wt);yt.Router=Xt;var Gt,Kt,Wt=0,Yt=function(t,e,n,r,i,o){if(t&&t.$a!=Wt&&(n=t.$v)&&1<n.$a){(e?function(t,e,n){var r,i=t.$os;if(i)for(var o=0,u=i;o<u.length&&(r=u[o],!(n=rt(e,r)));o++);return n}(n,e):De(n))&&n.$b();for(var u=0,a=t.children();u<a.length;u++)o=a[u],Yt(ee[o],e)}},te=function(t,e,n){e=oe(),(n=t[Ct])?e.mountView(n.to):(Wt=l++,Yt(e,t.keys))},ee={},ne=function(t){if(!t.$b&&!t.$d&&t.$cc==t.$rc){t.$cr||(t.$cr=1,t.$ca=0,t.fire("created"));var e=t.id,n=t.pId,r=ee[n];r&&!rt(r.$e,e)&&(r.$e[e]=1,r.$rc++,ne(r))}},re=function(t,e){if(!t.$ca&&t.$cr){t.$cr=0,t.$ca=1,t.fire("alter",e);var n=t.id,r=t.pId,i=ee[r];i&&rt(i.$e,n)&&(i.$rc--,delete i.$e[n],re(i,e))}},ie=function(t,e,n,r){r=(r=(r=ee[t])&&r.$v)?r.$d:{},0<e.indexOf(M)&&it(r,n)},oe=function(t){return Gt||(E=w.body,t=Z.rootId,B(t)||(E.id=t),Gt=new fe(t)),Gt},ue=function(t,e){rt(ee,t)||(ee[t]=e,fe.fire("add",{vframe:e}))},ae=[];function fe(t,e,n){(n=this).id=t,n.$c={},n.$cc=0,n.$rc=0,n.$g=n.$g||1,n.$e={},n.$f=[],n.pId=e,ue(t,n)}Q(fe,{all:function(){return ee},get:function(t){return ee[t]}},wt),Q(fe[_],wt,{mountView:function(t,e){var n,r,i,o,u,a=this,f=a.id,c=B(f),s=a.pId;!a.$h&&c&&(a.$h=1,a.$i=c.innerHTML),a.unmountView(),a.$b=0,n=$t(t||x),i=n[U],c&&i&&(a[U]=t,o=n[q],ie(s,t,o),a.$j=n[U],Q(o,e),r=a.$g,at(i,function(t){if(r==a.$g){if(!t)return Z.error(Error("id:"+f+" cannot load:"+i));u=Ne(t),i=new t(f,a,o,u),a.$v=i,a.$a=Wt,Me(i),(o=nt(i.init,o,i))||(o={then:function(t){return t()}}),r=++a.$g,o.then(function(){r==a.$g&&(i.$b(),i.tmpl||(a.$h=0,i.$f||i.endUpdate()))})}}))},unmountView:function(){var t,e,n=this,r=n.$v,i=n.id;n.$f=[],r&&(Kt||(e=1,Kt={id:i}),n.$b=1,n.unmountZone(0,1),re(n,Kt),(n.$v=0)<r.$a&&(r.$a=0,delete le[i],delete ve[i],r.fire("destroy",0,1,1),Pe(r,1),Me(r,1),r.owner=0),r.$a--,(t=B(i))&&n.$h&&d(t).html(n.$i),e&&(Kt=0)),n.$g++},mountVframe:function(t,e,n){var r,i=this,o=i.id,u=i.$c;return re(i,{id:t}),(r=ee[t])||(rt(u,t)||(i.$n=0,i.$cc++),u[t]=t,(r=ae.pop())?fe.call(r,t,o):r=new fe(t,o)),r.mountView(e,n),r},mountZone:function(t,e){var n,r,i=this,o=[];t=t||i.id;var u,a=d("#"+t+" ["+N+"]");i.$d=1;for(var f=0,c=a;f<c.length;f++)(n=c[f]).$b||(r=et(n),n.$b=1,o.push([r,n.getAttribute(N)]));for(var s=0,h=o;s<h.length;s++)r=(u=h[s])[0],n=u[1],i.mountVframe(r,n);i.$d=0,e||ne(i)},unmountVframe:function(t,e){var n,r,i,o;if(t=t?this.$c[t]:this.id,n=ee[t]){var u=n.$cr,a=n.pId;n.unmountView(),i=u,(o=ee[r=t])&&(delete ee[r],fe.fire("remove",{vframe:o,fcc:i}),(r=B(r))&&(r.$b=0,r.$a=0)),n.id=n.pId=n.$c=n.$e=0,n.$h=0,n.off("alter"),n.off("created"),ae.push(n),(n=ee[a])&&rt(n.$c,t)&&(delete n.$c[t],n.$n=0,n.$cc--,e||ne(n))}},unmountZone:function(t,e){var n;for(n in this.$c)(!t||n!=t&&J(n,t))&&this.unmountVframe(n,1);e||ne(this)},parent:function(t,e){for(e=this,t=t>>>0||1;e&&t--;)e=ee[e.pId];return e},children:function(t){return(t=this).$n||(t.$n=G(t.$c))},invoke:function(t,e){var n,r,i,o,u,a=this.$f;return(r=this.$v)&&r.$f?n=(i=r[t])&&nt(i,e,r):((o=a[u=M+t])&&(o.r=e===o.a),o={n:t,a:e,k:u},a.push(o),a[u]=o),n}}),yt.Vframe=fe;var ce=new ut(30,10),se=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,he={},de={},le={},ve={},$e=0,pe=function(t,e){var n,r,i,o,u,a,f,c,s=[],h=t,d=t.getAttribute("mx-"+e),l=[],v=P,$=0;if(d&&((u=ce.get(d))||(u={v:(u=d.match(se)||y)[1],n:u[2],i:u[3]},ce.set(d,u)),u=Q({},u,{r:d})),u&&!u.v||de[e]){if((i=ve[r=h.$d])&&1==i[h.$e]&&(a=1,v=r),!a){for(l.push(h);h!=E&&(h=h.parentNode);){if(ee[r=h.id]||(i=ve[r=h.$d])&&1==i[h.$e]){v=r;break}l.push(h)}for(var p=0,g=l;p<g.length;p++)d=g[p],(r=ve[v])||(r=ve[v]={}),r[i=d.$e||(d.$e=++$e)]=1,d.$d=v}var m=u&&!u.v;h=t.id,ee[h]&&($=v=h);do{if((n=ee[v])&&(a=n.$v)){if(o=(i=a.$so)[e])for(h=o.length;h--;)i={r:r=o[h],v:v,n:r},r?!$&&(f=t,(c=r)&&f&&1===f.nodeType&&(f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.matchesSelector).call(f,c))&&s.push(i):$&&s.unshift(i);if(m&&(u.v?s.push(Q({},u,{v:v})):u.v=v),a.tmpl&&!$){u&&!u.v&&(u.v=v);break}$=0}}while(n&&(v=n.pId))}return u&&s.push(u),s},ge=function(t){for(var e,n,r,i,o,u,a,f=t.target,c=t.type,s=[];f!=E;){if((e=pe(f,c)).length){s=[];for(var h=0,d=e;h<d.length;h++){var l=d[h],v=l.v,$=(l.r,l.n),p=l.i;if(u!=v){if(u&&t.isPropagationStopped())break;u=v}(i=(r=ee[v])&&r.$v)?(o=i[$+M+c])&&(t.eventTarget=f,a=p?bt(p,i.$d):{},t[q]=a,nt(o,t,i)):t.stopPropagation()}}if((n=le[o=f.$d])&&(n=n[f.$e])&&n[c]||t.isPropagationStopped()){s.length&&s.push(o);break}u=f.id,ee[u]&&s.push(u),s.push(f),f=f.parentNode||E}if(o=s.length)for(n=P;o--;)(i=s[o]).nodeType?((e=le[n])||(e=le[n]={}),(a=e[u=i.$e||(i.$e=++$e)])||(a=e[u]={}),a[c]=1):n=i},me="http://www.w3.org/2000/svg",be="http://www.w3.org/1998/Math/MathML",ye={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],g:[1,'<svg xmlns="'+me+'">'],m:[1,'<math xmlns="'+be+'">'],_:[0,""]},we=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var xe=w.implementation.createHTMLDocument(x),ke=xe.createElement("base");ke.href=w.location.href,xe.head.appendChild(ke);var Ve=function(t,e){var n=et(e);t.$c[n]?t.unmountVframe(n,1):t.unmountZone(n,1)},Ae={INPUT:[T,"checked"],TEXTAREA:[T],OPTION:["selected"]},Se=function(t,e){return 1==t.nodeType&&(t.$f?e=t.$g:((e=t.$a?x:t.id)||(e=t.getAttribute(C)),e||(e=t.getAttribute(N))&&(e=$t(e)[U]),t.$f=1,t.$g=e)),e},je=function(t,e,n,r,i){for(var o,u,a,f,c,s=t.lastChild,h=e.firstChild,d=0,l={},v={};s;)d++,(a=Se(s))&&(a=l[a]||(l[a]=[])).push(s),s=s.previousSibling;for(;h;)(a=Se(h))&&(v[a]=(v[a]||0)+1),h=h.nextSibling;for(h=e.firstChild,s=t.firstChild;h;)if(d--,h=(o=h).nextSibling,(f=l[a=Se(o)])&&(f=f.pop())){for(;f!=s;)c=s.nextSibling,t.appendChild(s),s=c;s=f.nextSibling,v[a]&&v[a]--,Ie(f,o,t,n,r,i)}else s?(a=Se(u=s))&&l[a]&&v[a]?(d++,n.c=1,t.insertBefore(o,u)):(s=s.nextSibling,Ie(u,o,t,n,r,i)):(n.c=1,n.n.push([1,t,o]));for(u=t.lastChild;0<d--;)Ve(r,u),n.n.push([2,t,u]),u=u.previousSibling,n.c=1},Ie=function(t,e,n,r,i,o){if(function(t,e){var n,r=t.nodeName,i=Ae[r],o=0;if(i)for(var u=0,a=i;u<a.length;u++)t[n=a[u]]!=e[n]&&(o=1,t[n]=e[n]);return o}(t,e)||1==t.nodeType&&t.hasAttribute("mxv")||!t.isEqualNode||!t.isEqualNode(e))if(t.nodeName===e.nodeName)if(1===t.nodeType){var u=e.getAttribute(C);if(u&&u==t.getAttribute(C))return;var a=e.getAttribute(N),f=e.innerHTML,c=e.getAttribute("mxa"),s=c?c!=t.getAttribute("mxa"):function(t,e){var n,r,i=t.attributes,o=e.attributes,u=!1,a=o.length;if(i.length==a){for(;a--;)if(!(r=i[(n=o[a]).name])||n[T]!=r[T]){u=!0;break}}else u=!0;return u}(t,e),h=void 0,d=void 0,l=ee[t.id],v=void 0,$=a&&$t(a),p=void 0,g=void 0,m=void 0,b=void 0;if(a&&l&&(!e.id||e.id==t.id)&&l.$j==$[U]&&(v=l.$v)){if(g=f!=l.$i,m=a!=l[U],b=t.getAttribute("mxv"),!g&&!m&&b)for(var y=0,w=p=b.split(A);y<w.length;y++)if((b=w[y])==P||rt(o,b)){m=1;break}(m||g||s)&&((b=v.$f&&v.$g)?(p=$[q],ie(l.pId,a,p),l.$i=f,l[U]=a,$={node:e,deep:!v.tmpl,attr:s,inner:g,query:m},nt(b,[p,$],v)&&r.v.push(v),h=$.deep):h=d=1)}else h=1,d=l;d&&(r.c=1,l.unmountVframe(0,1)),s&&function(t,e,n,r){var i,o,u,a;delete t.$f;var f=t.attributes,c=e.attributes;for(o=f.length;o--;)i=f[o].name,e.hasAttribute(i)||("id"==i?r||n.d.push([t,x]):(n.c=1,t.removeAttribute(i)));for(o=c.length;o--;)u=(i=c[o]).name,a=i[T],t.getAttribute(u)!=a&&("id"==u?n.d.push([t,a]):(n.c=1,t.setAttribute(u,a)))}(t,e,r,l&&a),h&&je(t,e,r,i,o)}else t.nodeValue!==e.nodeValue&&(r.c=1,t.nodeValue=e.nodeValue);else Ve(i,t),r.c=1,r.n.push([4,n,e,t])},Te=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Ce=function(t,e,n){return t.a?n=t:((n=function(t){nt(n.a,t,this)}).a=[t],n.b=1),n.a=n.a.concat(e.a||e),n},Pe=function(t,e){var n,r,i=t.$r;for(n in i)r=i[n],(e||r.x)&&Ee(i,n,1)},Ee=function(t,e,n,r){var i,o,u=t[e];return u&&u!=r&&((i=(o=u.e).destroy)&&n&&nt(i,y,o),delete t[e]),o},Me=function(t,e){var n,r,i,o,u,a,f=t.$eo,c=t.$so,s=t.$el,h=t.id;for(n in f)i=c[r=n],o=e,void 0,u=0|he[r],a=o?-1:1,u&&o!==u||p(E,r,ge,o),he[r]=u+a,i&&(de[r]=(0|de[r])+a);for(var d=0,l=s;d<l.length;d++)n=l[d],p(n.e,n.n,$,e,{i:h,v:t,f:n.f,m:n.m,e:n.e})},_e={win:g,doc:w},qe=function(t,e,n){for(var r,i,o,u,a={},f=0,c=t;f<c.length;f++)for(r in i=c[f])o=i[r],u=a[r],"ctor"!=r?(Te.test(r)&&(u?o=Ce(u,o):o.b=1),a[r]=o):n.push(o);for(r in a)rt(e,r)||(e[r]=a[r])};function Ue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._||(this._=[]);return qe(t,this[_],n),this}var Ne=function(t){if(!t[M]){t[M]=[];var e=t[_],n=void 0,r=void 0,i=void 0,o=void 0,u={},a=[],f={},c=void 0,s=void 0,h=void 0,d=void 0,l=void 0,v=void 0,$=void 0;for(h in(r=e.mixins)&&qe(r,e,t[M]),e)if(n=e[h],r=h.match(Te)){if(s=r[1],i=r[2],o=r[3],v={},$=r[4])for(var p=0,g=$=$.split(A);p<g.length;p++)v[d=g[p]]=!0;for(var m=0,b=o=o.split(A);m<b.length;m++){if(d=b[m],c=_e[i],l=1,s){if(c){a.push({f:n,e:c,n:d,m:v});continue}l=2,(c=f[d])||(c=f[d]=[]),c[i]||(c[i]=1,c.push(i))}u[d]=u[d]|l,(c=e[d=i+M+d])?c.b&&(n.b?e[d]=Ce(n,c):rt(e,h)&&(e[d]=n)):e[d]=n}}x="$b",k=(y=e)[w="render"],y[w]=y[x]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0<(V=this).$a&&(V.$a++,V.fire("rendercall"),Pe(V),nt(k,t,V))},e.$eo=u,e.$el=a,e.$so=f,e.$g=e.assign}var y,w,x,k,V;return t[M]},De=function(t){var e,n,r,i=t.$l;if(i.f&&(i.p&&(e=Tt[U]),!e&&i.k)){r=Tt[q];for(var o=0,u=i.k;o<u.length&&(n=u[o],!(e=rt(r,n)));o++);}return e},He={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},Le=/[&<>"'\`]/g,Oe=function(t){return""+(null==t?"":t)},Re=function(t){return"&"+He[t]+";"},Ze=function(t){return Oe(t).replace(Le,Re)},Be=function(t,e,n,r){for(r=t[M];--r;)if(t[n=M+r]===e)return n;return t[n=M+t[M]++]=e,n},ze={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Fe=function(t){return ze[t]},Je=/[!')(*]/g,Qe=function(t){return encodeURIComponent(Oe(t)).replace(Je,Fe)},Xe=/[\\'"]/g,Ge=function(t){return Oe(t).replace(Xe,"\\$&")},Ke=function(e,n){var t,r,i=e.$h,o=e.$i,u=e.id,a=ee[u],f={d:[],v:[],n:[]},c=B(u),s=e.$j,h=e.$d,d=function(t){n.i<n.length?Ke(updater,n):(f=n.slice(),n.i=n.length=0,t&&e.fire("domready"),nt(f))};if(n.i=n.length,e.$i=0,e.$h={},o&&0<e.$a&&(t=e.tmpl)){e.fire("dompatch"),delete le[u],delete ve[u],r=function(t,e){var n,r=xe.createElement("div"),i=e.namespaceURI;n=i==me?"g":i==be?"m":(we.exec(t)||[0,""])[1];var o=ye[n]||ye._;r.innerHTML=o[1]+t;for(var u=o[0];u--;)r=r.lastChild;return r}(t(s,u,h,Ze,Oe,Qe,Be,Ge),c),je(c,r,f,a,i);for(var l=0,v=f.d;l<v.length;l++)(r=v[l])[0].id=r[1];for(var $=0,p=f.n;$<p.length;$++)1==(r=p[$])[0]?r[1].appendChild(r[2]):2==r[0]?r[1].removeChild(r[2]):r[1].replaceChild(r[2],r[3]);a.$d=t=f.c||!e.$f;for(var g=0,m=f.v;g<m.length;g++)(r=m[g]).$b();t&&e.endUpdate(u),f.c&&b(w,"htmlchanged",{vId:u}),d(1)}else d()};function We(t,e,n,r){var i;(r=this).owner=e,r.id=t,r.$l={k:[]},r.$r={},r.$a=1,r.$i=1,r.$j={id:t},r.$d=((i={})[M]=1,i),r.$n=[],r.$h={},(t=We._)&&nt(t,n,r)}Q(We,{merge:Ue,extend:function t(e,n){var a=this,r=(e=e||{}).ctor,f=[];function c(t,e,n,r,i,o,u){a.call(o=this,t,e,n,r),(i=c._)&&nt(i,n,o),(u=f.concat(r)).length&&nt(u,n,o)}return r&&f.push(r),c.merge=Ue,c.extend=t,st(c,a,e,n)}}),Q(We[_],wt,{init:e,beginUpdate:function(t,e){0<(e=this).$a&&e.$f&&e.owner.unmountZone(t,1)},endUpdate:function(t,e,n,r,i){0<(n=this).$a&&(t=t||n.id,e?i=e:(i=n.$f,n.$f=1),(r=n.owner).mountZone(t,e),i||k(n.wrapAsync(function(){!function(t,e,n){for(e=t.$f;e.length;)(n=e.shift()).r||t.invoke(n.n,n.a),delete e[n.k]}(r)}),0))},wrapAsync:function(n,r){var i=this,o=i.$a;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0<o&&o==i.$a)return n.apply(r||i,t)}},observeLocation:function(t,e){var n;(n=this.$l).f=1,v(t)&&(e=t[U],t=t[q]),n.p=e,t&&(n.k=(t+x).split(A))},observeState:function(t){this.$os=(t+x).split(A)},capture:function(t,e,n,r){return r=this.$r,e?(Ee(r,t,1,e),r[t]={e:e,x:n}):e=(r=r[t])&&r.e,e},release:function(t,e){return Ee(this.$r,t,e)},leaveTip:function(r,i){var o=this,u=function(t){var e="a",n="b";t.type!=V&&(e="b",n="a"),u[e]?(t.prevent(),t.reject()):i()&&(t.prevent(),u[n]=1,o.leaveConfirm(function(){u[n]=0,t.resolve()},function(){u[n]=0,t.reject()},r))},t=function(t){i()&&(t.msg=r)};Xt.on(V,u),Xt.on(I,t),o.on("unload",u),o.on("destroy",function(){Xt.off(V,u),Xt.off(I,t)})},render:e,get:function(t,e){return e=this.$j,t&&(e=e[t]),e},set:function(t,e){var n=this;return n.$i=F(t,n.$j,n.$h,e)||n.$i,n},digest:function(t,e,n){var r=this.set(t,e),i=r.$n;n&&i.push(n),i.i||Ke(r,i)},snapshot:function(){return this.$o=r(this.$j),this},altered:function(){if(this.$o)return this.$o!=r(this.$j)},translate:function(t){return it(this.$j,t)},parse:function(t){return bt(t,this.$d)},changed:function(){return this.$i}}),yt.View=We;var Ye=Date.now;function tn(){this.id=O("b"),this.$={}}Q(tn[_],{get:function(t,e){var n=this.$;if(t){for(var r=S(t)?t.slice():(t+x).split("."),i=void 0;(i=r.shift())&&n;)n=n[i];i&&(n=m)}return e!==m&&o(e)!=o(n)&&(n=e),n},set:function(t,e){var n;v(t)||((n={})[t]=e,t=n),Q(this.$,t)}});function en(t,e,n){(n=this[t])&&(delete this[t],nt(n,e,n.e))}var nn=function(t,e,n,r,i){if(t.$d)return t;if(t.$e)return t.enqueue(nn.bind(t,t,e,n,r,i));t.$e=1,S(e)||(e=[e]);for(var f,c,s,h,d,l,v,$,p,o=t.constructor,u=0,a=o.$f,g=(f=n,c=o,s=t,h=e.length,d=r,l=o.$c,v=[],$=j,p=0,function(t,e){p++;var n,r,i=this,o=i.$b,u=o.k;if(v[t+1]=i,e?($=e,n=1):l.has(u)||(u&&l.set(u,i),o.t=Ye(),(r=o.a)&&nt(r,i,i),(r=o.x)&&c.clear(r),n=1),!s.$d){var a=p==h;a&&(s.$e=0,2==d&&(v[0]=$,nt(f,v,s))),1==d&&nt(f,[e||j,i,a,t],s)}n&&c.fire("end",{bag:i,error:e})}),m=0,b=e;m<b.length;m++){var y=b[m];if(y){var w=o.get(y,i),x=w.e,k=x.$b.k,V=g.bind(x,u++),A=void 0;k&&a[k]?a[k].push(V):w.u?(k&&((A=[V]).e=x,a[k]=A,V=en.bind(a,k)),o.$s(x,V)):V()}}return t};function rn(){var t=this;t.id=O("s"),t.$g=[]}Q(rn[_],{all:function(t,e){return nn(this,t,e,2)},save:function(t,e){return nn(this,t,e,2,1)},one:function(t,e){return nn(this,t,e,1)},enqueue:function(t){var e=this;return e.$d||(e.$g.push(t),e.dequeue(e.$h)),e},dequeue:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=this;r.$e||r.$d||(r.$e=1,k(function(){r.$e=0,r.$d||(n=r.$g.shift())&&nt(n,r.$h=t)},0))},destroy:function(t){(t=this).$d=1,t.$g=0}});var on=function(t,e){return[r(e),r(t)].join(M)},un=function(t,e,n,r){(r=t&&t.$b)&&e[r.n]&&n.del(r.k)},an=Q({add:function(t){var e,n=this.$b;S(t)||(t=[t]);for(var r=0,i=t;r<i.length;r++)if(e=i[r]){var o=e.name,u=e.cache;e.cache=0|u,n[o]=e}},create:function(t){var e=this.meta(t),n=0|t.cache||e.cache,r=new tn;r.set(e),r.$b={n:e.name,a:e.after,x:e.cleans,k:n&&on(e,t)},v(t)&&r.set(t);var i=e.before;return i&&nt(i,r,r),this.fire("begin",{bag:r}),r},meta:function(t){return this.$b[t.name||t]||t},get:function(t,e){var n,r;return e||(n=this.cached(t)),n||(n=this.create(t),r=1),{e:n,u:r}},clear:function(t){this.$c.each(un,gt((t+x).split(A)))},cached:function(t){var e,n,r=this.$c,i=this.meta(t),o=0|t.cache||i.cache;if(o&&(n=on(i,t)),n){var u=this.$f[n];u?e=u.e:(e=r.get(n))&&Ye()-e.$b.t>o&&(r.del(n),e=0)}return e}},wt);return rn.extend=function(t,e,n){function r(){rn.call(this)}return r.$s=t,r.$c=new ut(e,n),r.$f={},r.$b={},st(r,rn,j,an)},yt.Service=rn,Q(e[_],wt),e.extend=function t(e,n){var r=this,i=e&&e.ctor;function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.apply(this,t),i&&i.apply(this,t)}return o.extend=t,st(o,r,e,n)},yt.Base=e,yt.default=yt});