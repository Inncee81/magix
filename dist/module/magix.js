/*!5.0.0 MIT kooboy_li@163.com*/let e=0,t=[],r=window,i=document,n=setTimeout,a=encodeURIComponent;function o(){}let l=JSON.stringify,s=i.body,f=Date.now,h="prototype",u=Object[h].toString,d=e=>u.call(e).slice(8,-1),c=e=>"Object"==d(e),p=Array.isArray,b=t=>(t||"mx_")+e++,m=e=>i.getElementById(e),g=(e,t)=>e.innerHTML=t,w=b(),v={rootId:b(),defaultView:w,error(e){throw e}},x=e=>!e||"object"!=typeof e,y=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:$,keys:k,hasOwnProperty:V}=Object,j=i.head,I=i.createElement("div"),O=I.getAttribute,A=(e,t)=>O.call(e,t),C=(e,t)=>{t&&!C[e]&&(C[e]=1,g(I,`<style>${t}`),j.appendChild(I.firstChild))},E=(e,r,i,n,a)=>{for(a of(r=r||t,p(e)||(e=[e]),p(r)||(r=[r]),e))try{n=a&&a.apply(i,r)}catch(e){v.error(e)}return n},U=(e,t)=>e&&V.call(e,t),M=(e,t)=>{let r,i;if(x(t))"\x1e"==(r=t+"")[0]&&e.has(r)&&(t=e.get(r));else for(r in t)i=t[r],i=M(e,i),t[r]=i;return t},S=(e,t)=>t.a-e.a||t.b-e.b;function N(e,t,r,i){(i=this).a=[],i.b=t||5,i.c=i.b+(e||20),i.d=r}$(N[h],{get(t){let r=this.a["\x1e"+t];return r&&(r.a++,r.b=e++,r=r.c),r},set(t,r){let i=this,n=i.a,a="\x1e"+t,o=n[a],l=i.b;if(!o){if(n.length>=i.c)for(n.sort(S);l--;)(o=n.pop()).a>0&&i.del(o.o);o={d:t},n.push(o),n[a]=o}o.c=r,o.a=1,o.b=e++},del(e){e="\x1e"+e;let t=this.a,r=t[e],i=this.d;r&&(r.a=-1,r.c="",delete t[e],i&&E(i,r.d))},has(e){return U(this.a,"\x1e"+e)}});let T,Z={bubbles:!0,cancelable:!0},q=[],B=(e,t,r,i,n,a)=>{let o={a:i,b:r,c:t,d:e,e(e){i?E(r,e,a):r(e)}};q.push(o),e.addEventListener(t,o.e,n)},L=(e,t,r,i,n)=>{for(let a,o=q.length;o--;)if((a=q[o]).c==t&&a.a==i&&a.d==e&&a.b===r){q.splice(o,1),e.removeEventListener(t,a.e,n);break}},_=new N,P=e=>{let t,r,i,n,a,o=_.get(e);if(!o){if(n={},-1==(a=e.indexOf("?")))t=e;else if(t=e.substring(0,a),e=e.substring(a+1))for(a of e.split("&"))[r,i]=a.split("="),n[r]=decodeURIComponent(i||"");_.set(e,o={a:t,b:n})}return{path:o.a,params:$({},o.b)}},R=new N,D=(e,t,r)=>(R.has(e)?r=R.get(e):(r=E(Function(`return ${e}`)),e.indexOf("\x1e")>-1?M(t,r):R.set(e,r)),r),H=(e,t)=>{if(e)if(w==e)T||(T=He.extend()),t(T);else{p(e)||(e=[e]);let r=[],i=0,n=e.length,a=MX_Cfg.paths,o=e=>a=>{r[e]=a.default,++i==n&&t(...r)};for(let t,r,i,l=n;l--;)(r=(t=e[l]).indexOf("/"))>-1&&(i=t.slice(0,r),t=t.slice(r+1),t=(a[i]||`unset/${i}/path/`)+t),t.endsWith(".js")||(t+=".js"),import(t).then(o(l))}else t()};function z(){}let F=(e,t,r,i,n)=>(z[h]=t[h],n=new z,$(n,r),$(e,i),n.constructor=e,e[h]=n,e),J=e=>e;let W,X={fire(e,t){let r,i,n=this,a=n["\x1e"+e],o=0;if(t||(t={}),t.type=e,a)for(r=a.length;o<r;o++)(i=a[o]).f?(i.x=1,E(i.f,t,n),i.x=""):i.x||(a.splice(o--,1),r--);return(a=n[`on${e}`])&&E(a,t,n),n},on(e,t){let r="\x1e"+e;return(this[r]||(this[r]=[])).push({f:t}),this},off(e,t){let r,i="\x1e"+e,n=this,a=n[i];if(t){if(a)for(r of a)if(r.f==t){r.f="";break}}else delete n[i],delete n[`on${e}`];return n}},G={},K=(e,t,r,i)=>{t.indexOf("\x1e")>0&&(i=G[e])&&M(i.a.a,r)},Q=(e,t)=>{U(G,e)||(G[e]=t,te.fire("add",{vframe:t}))},Y=(e,t,r)=>{for(t=e.c;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]},ee=e=>e.b||(e.b=b());function te(e,t){let r=this,i=ee(e);r.id=i,r.root=e,r.pId=t,r.b={},r.d=1,r.c=[],Q(i,r)}$(te,{all:()=>G,byId:e=>G[e],byNode:e=>G[e.b]},X),$(te[h],{mountView(e,t){let r,i,n,a,o,l=this,{id:s,root:f,pId:h}=l;!l.e&&f&&(l.e=1,l.f=f.innerHTML),l.unmountView(),f&&e&&(r=P(e),n=r.path,l.path=e,a=r.params,K(h,e,a),l.g=n,$(a,t),i=l.d,H(n,e=>{if(i==l.d){if(!e)return v.error(Error(`${s} cannot load:${n}`));o=De(e),n=new e(s,f,l,a,o),l.a=n,Le(n),E(n.init,a,n),n.g(),n.tmpl||(l.e=0,n.h||n.endUpdate())}}))},unmountView(){let e=this,{a:t,root:r}=e;e.c=[],t&&(e.unmountZone(),e.a=0,t.d>0&&(t.d=0,t.fire("destroy"),t.off("destroy"),Ze(t,1),Le(t,1),t.owner=t.root=null),t.d--,r&&e.e&&g(r,e.f)),e.d++},mountVframe(e,t,r){let i,n=this,a=n.id,o=n.b,l=ee(e);return(i=G[l])||(U(o,l)||(n.h=0),o[l]=l,i=new te(e,a)),i.mountView(t,r),i},mountZone(e){let t,r=this,i=(e=e||r.root).querySelectorAll("[mx-view]");for(t of i)t.a||(t.a=1,r.mountVframe(t,A(t,"mx-view")))},unmountVframe(e,t){let r,i;var n,a;e=e?this.b[t?e:e.b]:this.id,(r=G[e])&&(r.unmountView(),i=r.pId,(a=G[n=e])&&(delete G[n],a.root.a=0,te.fire("remove",{vframe:a}),a.id=a.root=a.pId=a.b=null),(r=G[i])&&U(r.b,e)&&(delete r.b[e],r.h=0))},unmountZone(e){let t,r,i,n=this;for(t in n.b)(i=e?(r=G[t])&&y(r.root,e):1)&&n.unmountVframe(t,1)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=G[t.pId];return t},children(e){return(e=this).h||(e.h=k(e.b))},invoke(e,t){let r,i,n,a,o,l=this.c;return(i=this.a)&&i.h?r=(n=i[e])&&E(n,t,i):((a=l[o="\x1e"+e])&&(a.r=t===a.a),a={n:e,a:t,k:o},l.push(a),l[o]=a),r}});let re=new N(30,10),ie=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,ne={},ae={},oe=(e,r)=>{let i,n,a,o,l,f,h,u,d=[],c=e,p=A(e,`mx-${r}`),b=0;if(p&&((l=re.get(p))||(l={v:(l=p.match(ie)||t)[1],n:l[2],i:l[3]},re.set(p,l)),l=$({},l,{r:p})),l&&!l.v||ae[r]){if(!(u=c.c)){for(h=[c];c!=s&&(c=c.parentNode);){if(G[n=c.b]||(n=c.c)){u=n;break}h.push(c)}if(u)for(p of h)p.c=u}if(u){c=e.b,G[c]&&(b=u=c);do{if((i=G[u])&&(f=i.a)){if(o=(a=f.i)[r])for(c=o.length;c--;)a={r:n=o[c],v:u,n:n},n?!b&&e.matches(n)&&d.push(a):b&&d.unshift(a);if(f.tmpl&&!b)break;b=0}}while(i&&(u=i.pId))}}return l&&d.push(l),d},le=e=>{let t,r,i,n,a,o,l,f,{target:h,type:u}=e,d=[];for(;h!=s&&!(e.cancelBubble||(r=h.d)&&r[u]);){if(d.push(h),(t=oe(h,u)).length){d=[];for(let{v:r,r:s,n:d,i:c}of t){if(l!=r){if(l&&e.cancelBubble)break;l=r}(n=(i=G[r])&&i.a)?n.h&&(o=n[a=d+"\x1e"+u])&&(e.eventTarget=h,f=c?D(c,n.a):{},e.params=f,E(o,e,n)):e.stopPropagation()}}h=h.parentNode||s}for(l of d)(r=l.d||(l.d={}))[u]=1},se=(e,t,r)=>{let i=0|ne[e],n=r?-1:1;i&&r!==i||(r?L:B)(s,e,le),ne[e]=i+n,t&&(ae[e]=(0|ae[e])+n)};let fe={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},he=/[&<>"'\`]/g,ue=e=>""+(null==e?"":e),de=e=>`&${fe[e]};`,ce=e=>ue(e).replace(he,de),pe={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},be=e=>pe[e],me=/[!')(*]/g,ge=e=>a(ue(e)).replace(me,be),we=/[\\'"]/g,ve=e=>ue(e).replace(we,"\\$&"),xe=(e,t,r)=>(e.has(t)||(r="\x1e"+e.size,e.set(t,r),e.set(r,t)),e.get(t)),ye=(e,t)=>{let r,i,n=e.j,a=e.k,o=e.owner,l=e.id,s={a:[]},f=e.e,h=e.a,u=r=>{t.a<t.length?ye(e,t):(s=t.slice(),t.a=t.length=0,r&&e.fire("domready"),E(s))};if(t.a=t.length,e.k=0,e.j={},a&&e.d>0&&(r=e.tmpl)){for(i of(e.fire("dompatch"),i=r(f,$e,l,ue,ge,h,xe,ve,p),Ee(e.root,e.l,i,s,o,n),e.l=i,s.a))i.g();r&&e.endUpdate(),u(1)}else u()},$e=(e,t,r,i)=>{let n;if(e){t=t||{};let a,o,l,s,f,h,u="",d={},c="<"+e,p="",b=[];if(r)for(s of r)l=s.a,s.b==je&&(l=l?ce(l):" "),p+=l,h&&s.b==je&&h.b==je?h.a+=s.a:(s.d&&(d[s.d]=(d[s.d]||0)+1),s.e&&(a=1),h=s,b.push(s));for(o in t)!1!==(l=t[o])&&null!=l?(!0===l&&(t[o]=l=""),"id"==o?u=l:"mx-view"==o&&l&&!u?u=P(l).path:"mxs"==o?u||(u=l):"mxv"==o&&(a=1),"value"==o&&"textarea"==e?p=l:U(Ve,o)||(c+=` ${o}="${ce(l)}"`)):delete t[o];f=c,n={a:c+=i?"/>":`>${p}</${e}>`,c:p,d:u,b:e,e:a||U(ke,e),f:f,g:t,h:b,i:d,j:i}}else n={b:t?"\x1e":je,a:r+""};return n},ke={input:{value:1,checked:1},textarea:{value:1},option:{selected:1}},Ve={mxs:1,mxv:1};let je=e;let Ie="http://www.w3.org/",Oe={svg:`${Ie}2000/svg`,math:`${Ie}1998/Math/MathML`},Ae=(e,t,r,i)=>{let n,a,o=0,l=ke[t.b],s=r.g,f=t.g;if(i){if(t)for(n in f)U(l,n)||U(s,n)||(o=1,e.removeAttribute(n));for(n in s)U(l,n)||U(Ve,n)||(a=s[n],t&&f[n]===a||(o=1,e.setAttribute(n,a)))}for(n in l)a=U(s,n)?"value"!=n||s[n]:"value"==n&&"",e[n]!=a&&(o=1,e[n]=a);return o&&delete e.d,o},Ce=(e,t,r)=>{let n,a=e.b;return a==je?n=i.createTextNode(e.a):(n=i.createElementNS(Oe[a]||t.namespaceURI,a),Ae(n,0,e,1)&&(r.b=1),g(n,e.c)),n},Ee=(e,t,r,i,n,a)=>{if(t){if(t.e||t.c!=r.c){let o,l,s,f,h,u,d=t.h,c=r.h,p=d.length,b=c.length,m=r.i,w=e.childNodes,v={},x=0;for(o=p;o--;)(h=(s=d[o]).d)&&(h=v[h]||(v[h]=[])).push(w[o]);for(o=0;o<b;o++)if(f=c[o],s=d[x++],(h=v[f.d])&&(h=h.pop())){if(h!=w[o]){for(l=x,u=1;l<p;l++,u++)if((s=d[l])&&w[o+u]==h){d.splice(l,1),x--;break}e.insertBefore(h,w[o])}m[s.d]&&m[s.d]--,Ue(h,e,s,f,i,n,a)}else s?v[s.d]&&m[s.d]?(p++,i.b=1,e.insertBefore(Ce(f,e,i),w[o]),x--):Ue(w[o],e,s,f,i,n,a):("\x1e"==f.b?g(e,f.a):e.appendChild(Ce(f,e,i)),i.b=1);for(o=b;o<p;o++)1==(l=w[b]).nodeType&&n.unmountZone(l),e.removeChild(l)}}else i.b=1,g(e,r.c)},Ue=(e,t,r,i,n,a,o)=>{let l=r.g,s=i.g,f=r.b;if(r.e||r.a!=i.a)if(f==i.b){if(f==je)n.b=1,e.nodeValue=i.a;else if("\x1e"==f)n.b=1,g(t,i.a);else if(!l.mxs||l.mxs!=s.mxs){let t,h,u,d,c,p,b,m=s["mx-view"],g=i.c,w=r.f!=i.f,v=U(ke,f)||w,x=G[e.b],y=m&&P(m);if(v&&(v=Ae(e,r,i,w))&&(n.b=1),m&&x&&x.g==y.path&&(d=x.a)){if(p=g!=r.c,b=m!=x.path,u=l.mxv,!p&&!b&&u)for(u of c=u.split(","))if("#"==u||U(o,u)){b=1;break}(b||p||v)&&((u=d.h&&d.m)?(c=y.params,K(x.pId,m,c),x.path=m,E(u,c,d)&&n.a.push(d),t=!d.tmpl):(h=1,t=1))}else t=1,h=x;h&&(n.b=1,x.unmountVframe(0,1)),t&&!i.j&&Ee(e,r,i,n,a,o)}}else"\x1e"==r.b?g(t,i.a):(a.unmountZone(e),t.replaceChild(Ce(i,t,n),e)),n.b=1},Me={},Se=$({get:e=>e?Me[e]:Me,set(e){$(Me,e)}},X),Ne=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Te=(e,t,r)=>(e.a?r=e:((r=function(e){E(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),Ze=(e,t)=>{let r,i,n=e.c;for(r in n)i=n[r],(t||i.a)&&qe(n,r,1)},qe=(e,r,i,n)=>{let a,o,l=e[r];return l&&l!=n&&((a=(o=l.b).destroy)&&i&&E(a,t,o),delete e[r]),o},Be=(e,t,r,i,n)=>{i=e[t],e[t]=e[r]=function(...e){(n=this).d>0&&(n.d++,n.fire("rendercall"),Ze(n),E(i,e,n))}},Le=(e,t)=>{let r,{n:i,i:n,o:a,id:o}=e;for(r in i)se(r,n[r],t);for(r of(i=t?L:B,a))i(r.a,r.b,r.c,o,r.d,e)},_e={win:r,doc:i},Pe=(e,t,r)=>{let i,n,a,o,l={};for(n of e)for(i in n)a=n[i],o=l[i],"ctor"!=i?(Ne.test(i)&&(o?a=Te(o,a):a.b=1),l[i]=a):r.push(a);for(i in l)U(t,i)||(t[i]=l[i])};function Re(...e){let t=this.a||(this.a=[]);return Pe(e,this[h],t),this}let De=e=>{if(!e["\x1e"]){e["\x1e"]=[];let t,r,i,n,a,o,l,s,f,u,d,c=e[h],p={},b=[],m={};for(l in(r=c.mixins)&&Pe(r,c,e["\x1e"]),c)if(t=c[l],r=l.match(Ne)){if([,o,i,n,d]=r,u={},d)for(s of d=d.split(","))u[s]=!0;for(s of n=n.split(",")){if(a=_e[i],f=1,o){if(a){b.push({c:t,a:a,b:s,d:u});continue}f=2,(a=m[s])||(a=m[s]=[]),a[i]||(a[i]=1,a.push(i))}p[s]=p[s]|f,(a=c[s=i+"\x1e"+s])?a.b&&(t.b?c[s]=Te(t,a):U(c,l)&&(c[s]=t)):c[s]=t}}Be(c,"render","g"),c.n=p,c.o=b,c.i=m,c.m=c.assign}return e["\x1e"]};function He(e,t,r,i,n){(n=this).root=t,n.owner=r,n.id=e,n.c={},n.d=1,n.k=1,n.e={id:e},n.a=new Map,n.f=[],n.j={},(e=He.a)&&E(e,i,n)}function ze(){this.id=b("b"),this.a={}}$(He,{merge:Re,extend:function e(t,r){let i=this,n=(t=t||{}).ctor,a=[];function o(e,t,r,n,l,s,f,h){i.call(f=this,e,t,r,n,l),(s=o.a)&&E(s,n,f),(h=a.concat(l)).length&&E(h,n,f)}return n&&a.push(n),o.merge=Re,o.extend=e,F(o,i,t,r)}}),$(He[h],X,{init:o,render:o,beginUpdate(e,t){(t=this).d>0&&t.h&&t.owner.unmountZone(e)},endUpdate(e,t,r,i){(t=this).d>0&&(i=t.h,t.h=1,(r=t.owner).mountZone(e),i||n(t.wrapAsync(Y),0,r))},wrapAsync(e,t){let r=this,i=r.d;return(...n)=>{if(i>0&&i==r.d)return e.apply(t||r,n)}},capture(e,t,r,i){return i=this.c,t?(qe(i,e,1,t),i[e]={b:t,a:r}):t=(i=i[e])&&i.b,t},release(e,t){return qe(this.c,e,t)},get(e,t){return t=this.e,e&&(t=t[e]),t},set(e,t){let r=this;return r.k=((e,t,r,i)=>{let n,a,o,l=0;for(o in e)n=e[o],a=t[o],x(n)&&a===n||U(i,o)||(r[o]=1,l=1),t[o]=n;return l})(e,r.e,r.j,t)||r.k,r},digest(e,t,r){let i=this.set(e,t),n=i.f;r&&n.push(r),n.a||ye(i,n)},snapshot(){return this.p=l(this.e),this},altered(){let e=this;if(e.p)return e.p!=l(e.e)},translate(e){return M(this.e,e)},parse(e){return D(e,this.a)}}),$(ze[h],{get(e,t){let r,i=this.a;if(e){let t,r=p(e)?e.slice():(e+"").split(".");for(;(t=r.shift())&&i;)i=i[t];t&&(i=void 0)}return void 0!==t&&(r=d(t))!=d(i)&&(i=t),i},set(e,t){c(e)||(e={[e]:t}),$(this.a,e)}});let Fe=(e,t,r)=>i=>{(r=e[t])&&(delete e[t],E(r,i,r.a))},Je=(e,t,r,i,n,a)=>{let o=[],l=null,s=0;return function(h,u){let d;s++;let c,p=this,b=p.b,m=b.a;if(o[h+1]=p,u?(l=u,d=1):a.has(m)||(m&&a.set(m,p),b.b=f(),(c=b.c)&&E(c,p,p),d=1),!r.a){let t=s==i;t&&(r.b=0,2==n&&(o[0]=l,E(e,o,r))),1==n&&E(e,[u||null,p,t,h],r)}d&&t.fire("end",{bag:p,error:u})}},We=(e,t,r,i,n)=>{if(e.a)return e;if(e.b)return e.enqueue(We.bind(e,e,t,r,i,n));e.b=1,p(t)||(t=[t]);let a=e.constructor,o=0,l=a.d,s=Je(r,a,e,t.length,i,a.c);for(let e of t)if(e){let t,[r,i]=a.get(e,n),f=r.b.a,h=s.bind(r,o++);f&&l[f]?l[f].push(h):i?(f&&((t=[h]).a=r,l[f]=t,h=Fe(l,f)),a.e(r,h)):h()}return e};function Xe(){let e=this;e.id=b("s"),e.f=[]}$(Xe[h],{all(e,t){return We(this,e,t,2)},save(e,t){return We(this,e,t,2,1)},one(e,t){return We(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,r=this;r.b||r.a||(r.b=1,n(()=>{r.b=0,r.a||(t=r.f.shift())&&E(t,r.g=e)},0))},destroy(e){(e=this).a=1,e.f=0}});let Ge=(e,t)=>[l(t),l(e)].join("\x1e"),Ke=$({add(e){let t,r=this.h;for(t of(p(e)||(e=[e]),e))if(t){let{name:e,cache:i}=t;t.cache=0|i,r[e]=t}},create(e){let t=this.meta(e),r=0|e.cache||t.cache,i=new ze;i.set(t),i.b={c:t.after,a:r&&Ge(t,e)},c(e)&&i.set(e);let n=t.before;return n&&E(n,i,i),this.fire("begin",{bag:i}),i},meta(e){return this.h[e.name||e]||e},get(e,t){let r,i,n=this;return t||(r=n.cached(e)),r||(r=n.create(e),i=1),[r,i]},cached(e){let t,r,i=this,n=i.c,a=i.meta(e),o=0|e.cache||a.cache;if(o&&(r=Ge(a,e)),r){let e=i.d[r];e?t=e.a:(t=n.get(r))&&f()-t.b.b>o&&(n.del(r),t=0)}return t}},X);Xe.extend=((e,t,r)=>{function i(){Xe.call(this)}return i.e=e,i.c=new N(t,r),i.d={},i.h={},F(i,Xe,null,Ke)}),$(o[h],X),o.extend=function e(t,r){let i=this,n=t&&t.ctor;function a(...e){i.apply(this,e),n&&n.apply(this,e)}return a.extend=e,F(a,i,t,r)};let Qe={config:(e,t)=>(t=v,e&&(t=c(e)?$(t,e):t[e]),t),boot(e){$(v,e),((e,t)=>(W||(e=v.rootId,(t=m(e))||(t=s),W=new te(t)),W))().mountView(v.defaultView)},toMap:(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},toTry:E,toUrl:(e,t,r)=>{let i,n,o,l=[];for(n in t)i=t[n]+"",(!r||i||U(r,n))&&(i=a(i),l.push(o=n+"="+i));return o&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+l.join("&")),e},parseUrl:P,mix:$,has:U,keys:k,inside:y,applyStyle:C,guid:b,Cache:N,use:H,dispatch:(e,t,r)=>{let i=new Event(t,Z);$(i,r),e.dispatchEvent(i)},type:d,View:He,State:Se,Vframe:te,Service:Xe,Event:X,guard:J,node:m};export default Qe