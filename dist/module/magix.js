/*!3.8.13 MIT kooboy_li@163.com*/let e=e=>Object.prototype.toString.call(e).slice(8,-1),t=t=>r=>e(r)==t,r=t("Object"),n=t("Array"),i=0,o="",l=[],a=",",f=null,s=window,d=void 0,h=document,$=h.documentElement.getAttribute,u=(e,t)=>$.call(e,t),c=s.setTimeout,p="changed",m="change",g="pageunload",b="value",v="mxs",y="#";function w(){}let x,k,V=JSON.stringify,S="\x1e",I="object",T="prototype",C="params",E="path",P="mx-view",j=/[#?].*$/,M=/([^=&?\/#]+)=?([^&#?]*)/g,A=/(?!^)=|&/,q=e=>(e||"mx_")+i++,O=q(),U={rootId:q(),defaultView:O,error(e){throw e}},_=e=>typeof e==I?e:h.getElementById(e),H=e=>!e||typeof e!=I,L=(e,t,r,n)=>{let i,o,l,a=0;for(l in e)i=e[l],o=t[l],H(i)&&o===i||W(n,l)||(r[l]=1,a=1),t[l]=i;return a},N=(e,t,r)=>{if(e=_(e),t=_(t),e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:D,keys:R,hasOwnProperty:Z}=Object,B=document.head,z=document.createElement("div"),F=(e,t)=>{t&&!F[e]&&(F[e]=1,z.innerHTML=`<style>${t}`,B.appendChild(z.firstChild))},J=e=>u(e,"id")||(e.$a=1,e.id=q()),Q=(e,t,r,i,o)=>{t=t||l,n(e)||(e=[e]),n(t)||(t=[t]);for(o of e)try{i=o&&o.apply(r,t)}catch(e){U.error(e)}return i},W=(e,t)=>e&&Z.call(e,t),X=(e,t)=>{let r,n;if(H(t))(r=t+o)[0]==S&&W(e,r)&&(t=e[r]);else for(r in t)n=t[r],n=X(e,n),t[r]=n;return t},G=(e,t)=>t.f-e.f||t.t-e.t;function K(e,t,r,n){(n=this).c=[],n.b=t||5,n.x=n.b+(e||20),n.r=r}D(K[T],{get(e){let t=this.c[S+e];return t&&(t.f++,t.t=i++,t=t.v),t},each(e,t,r,n,i){n=(r=this).c;for(i of n)e(i.v,t,r)},set(e,t){let r=this,n=r.c,o=S+e,l=n[o],a=r.b;if(!l){if(n.length>=r.x)for(n.sort(G);a--;)(l=n.pop()).f>0&&r.del(l.o);l={o:e},n.push(l),n[o]=l}l.v=t,l.f=1,l.t=i++},del(e){e=S+e;let t=this.c,r=t[e],n=this.r;r&&(r.f=-1,r.v=o,delete t[e],n&&Q(n,r.o))},has(e){return W(this.c,S+e)}});let Y=(e,t)=>{if(e)if(O==e)k||(k=ir.extend()),t(k);else{let r=[],i=0;n(e)||(e=[e]);let o=e=>n=>{r[e]=n.default,++i==r.length&&t(...r)},l=U.paths;for(let t,r,n,i=e.length;i--;)(r=(t=e[i]).indexOf("/"))>-1&&(n=t.slice(0,r),t=t.slice(r+1),t=(l[n]||`unset/${n}/path/`)+t),t.endsWith(".js")||(t+=".js"),import(t).then(o(i))}else t()};function ee(){}let te=(e,t,r,n,i)=>(ee[T]=t[T],i=new ee,D(i,r),D(e,n),i.constructor=e,e[T]=i,e),re=(e,t,r)=>{let n=h.createEvent("Events");n.initEvent(t,!0,!0);for(let e in r)n[e]=r[e];e.dispatchEvent(n)},ne=(e,t)=>{if(!t||!e||1!==e.nodeType)return 0;return(e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector).call(e,t)},ie=e=>e._mx||(e._mx=q("e")),oe={},le=()=>!0,ae=()=>!1,fe={preventDefault:"isDefaultPrevented",stopPropagation:"isPropagationStopped"},se=(e,t,r,n)=>{let i=ie(e),o=oe[i]||(oe[i]=[]),l={a:r&&r.i,b:n,c:t,d(t){t=(e=>{if(!e.isDefaultPrevented){for(let t in fe){let r=fe[t],n=e[t];e[t]=((...t)=>(e[r]=le,n&&n.apply(e,t))),e[r]=ae}(void 0!==e.defaultPrevented?e.defaultPrevented:"returnValue"in e?!1===e.returnValue:e.getPreventDefault&&e.getPreventDefault())&&(e.isDefaultPrevented=le)}return e})(t),n.call(e,t,r)}};o.push(l),e.addEventListener(t,l.d,r&&r.m)},de=(e,t)=>{e.eventTarget=t.e,Q(t.f,e,t.v)},he=(e,t,r,n,i)=>{n?((e,t,r,n)=>{let i=ie(e),o=oe[i];if(o){let i;for(let e,l=o.length;l--;)if((e=o[l]).c==t&&e.b===n){let t=e.a;if(!r||r&&r.i==t){i=e,o.splice(l,1);break}}i&&e.removeEventListener(t,i.d,r&&r.m)}})(e,t,i,r):se(e,t,i,r)},$e=e=>e;let ue,ce=new K,pe=0,me=(e,t,r)=>{try{r=decodeURIComponent(r)}catch(e){}ue[t]=r},ge=e=>{let t,r=ce.get(e);return r||(ue={},e==(t=e.replace(j,o))&&A.test(t)&&(t=o),e.replace(t,o).replace(M,me),ce.set(e,r={a:t,b:ue})),{path:r.a,params:{...r.b}}},be=(e,t,r)=>{let n,i,l,a=[];for(i in t)n=t[i]+o,(!r||n||W(r,i))&&(n=encodeURIComponent(n),a.push(l=i+"="+n));return l&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+a.join("&")),e},ve=(e,t)=>{let r,n={};if(e)for(r of e)n[t&&r?r[t]:r]=t?r:1+(0|n[r]);return n},ye=new K,we=(e,t,r)=>(ye.has(e)?r=ye.get(e):(r=Q(Function(`return ${e}`)),e.indexOf(S)>-1?X(t,r):ye.set(e,r)),r),xe={config:(e,t)=>(t=U,e&&(t=r(e)?D(t,e):t[e]),t),boot(e){D(U,e),Y(U.ini,t=>{D(U,t,e),Y(U.exts,()=>{Ge.on(p,rt),Pe.on(p,rt),pe=1,Je()})})},toMap:ve,toTry:Q,toUrl:be,parseUrl:ge,mix:D,has:W,keys:R,inside:N,node:_,applyStyle:F,guid:q,use:Y,Cache:K,fire:re,type:e,nodeId:J,guard:$e},ke={fire(e,t,r,n){let i,l,a,f,s=this,d=s[S+e];if(t||(t={}),t.type=e,d)for(l=(i=d.length)-1;i--;)(f=d[a=n?i:l-i]).f?(f.x=1,Q(f.f,t,s),f.x=o):f.x||(d.splice(a,1),l--);return(d=s[`on${e}`])&&Q(d,t,s),r&&s.off(e),s},on(e,t){let r=S+e;return(this[r]||(this[r]=[])).push({f:t}),this},off(e,t){let r,n=S+e,i=this,l=i[n];if(t){if(l)for(r of l)if(r.f==t){r.f=o;break}}else delete i[n],delete i[`on${e}`];return i}};xe.Event=ke;let Ve={},Se={},Ie={},Te=0,Ce=e=>{e=(e+o).split(",");for(let t of e)W(Se,t)?Se[t]++:Se[t]=1;return e},Ee=e=>{let t,r;for(t of e)W(Se,t)&&((r=--Se[t])||(delete Se[t],delete Ve[t]))};let Pe={get(e){let t=e?Ve[e]:Ve;return t},set(e,t){return Te=L(e,Ve,Ie,t)||Te,this},digest(e,t){e&&Pe.set(e,t),Te&&(Te=0,this.fire(p,{keys:Ie}),Ie={})},diff:()=>Ie,clean:e=>({ctor(){e=Ce(e),this.on("destroy",()=>Ee(e))}}),...ke};xe.State=Pe;let je,Me="view",Ae=new K,qe=new K,Oe=s.location,Ue=0,_e={query:{},params:{},href:o},He=/(?:^.*\/\/[^\/]+|#.*$)/gi,Le=/^[^#]*#?!?/;function Ne(e,t){return this[C][e]||t!==d&&t||o}let De,Re,Ze,Be,ze,Fe=(e,t)=>{e="#!"+e,t?Oe.replace(e):Oe.hash=e},Je=()=>{let e,t,r=We().srcHash;he(s,"hashchange",(n,i,l)=>{t||(i=We(),(e=i.srcHash)!=r&&(l=(()=>{n.p=1,r=e,t=o,Fe(e),Xe()}),n={reject(){n.p=1,t=o,Fe(r)},resolve:l,prevent(){t=1}},Ge.fire(m,n),t||n.p||l()))}),he(s,"beforeunload",(e,t,r)=>{if(e=e||s.event,t={},Ge.fire(g,t),r=t.msg)return e&&(e.returnValue=r),r}),Xe()},Qe=h.title,We=e=>{e=e||Oe.href;let t,n,i,l,a,f=Ae.get(e);return f||(f={get:Ne,href:e,srcQuery:t=e.replace(He,o),srcHash:n=e.replace(Le,o),query:i=ge(t),hash:l=ge(n),params:a={...i[C],...l[C]}},pe&&(((e,t)=>{if(De||(De=U.routes||{},Re=U.unmatchView,Ze=U.defaultView,Be=U.defaultPath||"/",ze=U.rewrite),!e[Me]){let n=e.hash[E]||Be;ze&&(n=ze(n,e[C],De)),t=De[n]||Re||Ze,e[E]=n,e[Me]=t,r(t)&&D(e,t)}})(f),Ae.set(e,f))),f},Xe=()=>{let e=We(),t=((e,t)=>{let r=e.href,n=t.href,i=r+S+n,o=qe.get(i);if(!o){let n,l;o={params:l={},force:!r};let a,f=e[C],s=t[C],d=R(f).concat(R(s)),h=e=>{let t=f[e],r=s[e];t!=r&&(l[e]={from:t,to:r},n=1)};for(a of d)h(a);f=e,s=t,l=o,h(E),h(Me),qe.set(i,o={a:n,b:o})}return o})(_e,_e=e);return!Ue&&t.a&&((je=t.b)[E]&&(h.title=e.title||Qe),Ge.fire(p,je)),Ue=0,je},Ge={parse:We,diff:Xe,to(e,t,n,i){!t&&r(e)&&(t=e,e=o);let l=ge(e),a=l[C],f=l[E],s=_e[E],d=_e[C],h=_e.query[C];if(D(a,t),f)for(s in h)W(a,s)||(a[s]=o);else d&&(f=s,a={...d,...a});var $,u,c,p;u=_e,c=n,p=i,($=be($=f,a,h))!=u.srcHash&&(Ue=p,Fe($,c))},...ke};xe.Router=Ge;let Ke,Ye,et=0,tt=(e,t,r,n,i,o)=>{if(e&&e.$a!=et&&(r=e.$v)&&r.$a>1){(t?((e,t,r)=>{let n,i=e.$os;if(i)for(n of i)if(r=W(t,n))break;return r})(r,t):nr(r))&&r.$b(),i=e.children();for(o of i)tt(nt[o],t)}},rt=(e,t,r)=>{t=at(),(r=e[Me])?t.mountView(r.to):(et=i++,tt(t,e.keys))},nt={},it=e=>{if(!e.$b&&!e.$d&&e.$cc==e.$rc){e.$cr||(e.$cr=1,e.$ca=0,e.fire("created"));let{id:t,pId:r}=e,n=nt[r];n&&!W(n.$e,t)&&(n.$e[t]=1,n.$rc++,it(n))}},ot=(e,t)=>{if(!e.$ca&&e.$cr){e.$cr=0,e.$ca=1,e.fire("alter",t);let{id:r,pId:n}=e,i=nt[n];i&&W(i.$e,r)&&(i.$rc--,delete i.$e[r],ot(i,t))}},lt=(e,t,r,n)=>(n=(n=(n=nt[e])&&n.$v)?n.$d.$a:{},t.indexOf(S)>0&&X(n,r),n),at=e=>(Ke||(x=h.body,e=U.rootId,_(e)||(x.id=e),Ke=new ht(e)),Ke),ft=(e,t)=>{W(nt,e)||(nt[e]=t,ht.fire("add",{vframe:t}),(e=_(e))&&(e.vframe=t))},st=(e,t,r)=>{for(t=e.$f;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]},dt=[];function ht(e,t,r){(r=this).id=e,r.$c={},r.$cc=0,r.$rc=0,r.$g=r.$g||1,r.$e={},r.$f=[],r.pId=t,ft(e,r)}D(ht,{all:()=>nt,get:e=>nt[e]},ke),D(ht[T],ke,{mountView(e,t){let r,n,i,l,a,f=this,s=f.id,d=_(s),h=f.pId;!f.$h&&d&&(f.$h=1,f.$i=d.innerHTML),f.unmountView(),f.$b=0,r=ge(e||o),i=r[E],d&&i&&(f[E]=e,l=r[C],lt(h,e,l),f.$j=r[E],D(l,t),n=f.$g,Y(i,e=>{if(n==f.$g){if(!e)return U.error(Error(`id:${s} cannot load:${i}`));a=rr(e),i=new e(s,f,l,d,a),f.$v=i,f.$a=et,Kt(i),(l=Q(i.init,[l,{node:d,deep:!i.tmpl}],i))||(l={then:e=>e()}),n=++f.$g,l.then(()=>{n==f.$g&&(i.$b(),i.tmpl||(f.$h=0,i.$e||i.endUpdate()))})}}))},unmountView(){let e,t,r=this,{$v:n,id:i}=r;r.$f=[],n&&(Ye||(t=1,Ye={id:i}),r.$b=1,r.unmountZone(0,1),ot(r,Ye),r.$v=0,n.$a>0&&(n.$a=0,delete mt[i],delete gt[i],n.fire("destroy",0,1,1),Wt(n,1),Kt(n,1),n.owner=0),n.$a--,(e=_(i))&&r.$h&&(e.innerHTML=r.$i),t&&(Ye=0)),r.$g++},mountVframe(e,t,r){let n,i=this,o=i.id,l=i.$c;return ot(i,{id:e}),(n=nt[e])||(W(l,e)||(i.$n=0,i.$cc++),l[e]=e,(n=dt.pop())?ht.call(n,e,o):n=new ht(e,o)),n.mountView(t,r),n},mountZone(e,t){let r,n,i=this,o=[],l=(e=>h.querySelectorAll(e))(`#${e=e||i.id} [${P}]`);i.$d=1;for(r of l)r.$b||(n=J(r),r.$b=1,o.push([n,u(r,P)]));for([n,r]of o)i.mountVframe(n,r);i.$d=0,t||it(i)},unmountVframe(e,t){let r;if(e=e?this.$c[e]:this.id,r=nt[e]){let{$cr:l,pId:a}=r;r.unmountView(),i=l,(o=nt[n=e])&&(delete nt[n],ht.fire("remove",{vframe:o,fcc:i}),(n=_(n))&&(n.$b=0,n.vframe=0,n.$a=0)),r.id=r.pId=r.$c=r.$e=0,r.$h=0,r.off("alter"),r.off("created"),dt.push(r),(r=nt[a])&&W(r.$c,e)&&(delete r.$c[e],r.$n=0,r.$cc--,t||it(r))}var n,i,o},unmountZone(e,t){let r,n=this;for(r in n.$c)(!e||r!=e&&N(r,e))&&n.unmountVframe(r,1);t||it(n)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=nt[t.pId];return t},children(e){return(e=this).$n||(e.$n=R(e.$c))},invoke(e,t){let r,n,i,o,l,a=this.$f;return(n=this.$v)&&n.$e?r=(i=n[e])&&Q(i,t,n):((o=a[l=S+e])&&(o.r=t===o.a),o={n:e,a:t,k:l},a.push(o),a[l]=o),r}}),xe.Vframe=ht;let $t=new K(30,10),ut=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,ct={},pt={},mt={},gt={},bt=0,vt=(e,t)=>{let r,n,i,o,a,f,s=[],d=e,h=u(e,`mx-${t}`),$=[],c=y,p=0;if(h&&((a=$t.get(h))||(a={v:(a=h.match(ut)||l)[1],n:a[2],i:a[3]},$t.set(h,a)),a={...a,r:h}),a&&!a.v||pt[t]){if((i=gt[n=d.$d])&&1==i[d.$e]&&(f=1,c=n),!f){for($.push(d);d!=x&&(d=d.parentNode);){if(nt[n=d.id]||(i=gt[n=d.$d])&&1==i[d.$e]){c=n;break}$.push(d)}for(h of $)(n=gt[c])||(n=gt[c]={}),n[i=h.$e||(h.$e=++bt)]=1,h.$d=c}d=e.id,nt[d]&&(p=c=d);do{if((r=nt[c])&&(f=r.$v)){if(o=(i=f.$so)[t])for(d=o.length;d--;)i={r:n=o[d],v:c,n:n},n?!p&&ne(e,n)&&s.push(i):p&&s.unshift(i);if(f.tmpl&&!p){a&&!a.v&&(a.v=c);break}p=0}}while(r&&(c=r.pId))}return a&&s.push(a),s},yt=e=>{let t,r,n,i,o,l,a,f,{target:s,type:d}=e,h=[];for(;s!=x;){if((t=vt(s,d)).length){h=[];for(let{v:r,r:h,n:$,i:u}of t){if(a!=r){if(a&&e.isPropagationStopped())break;a=r}(i=(n=nt[r])&&n.$v)?(l=i[o=$+S+d])&&(e.eventTarget=s,f=u?we(u,i.$d.$a):{},e[C]=f,Q(l,e,i)):e.stopPropagation()}}if((r=mt[l=s.$d])&&(r=r[s.$e])&&r[d]||e.isPropagationStopped()){h.length&&h.push(l);break}a=s.id,nt[a]&&h.push(a),h.push(s),s=s.parentNode||x}if(l=h.length)for(r=y;l--;)(i=h[l]).nodeType?((t=mt[r])||(t=mt[r]={}),(f=t[a=i.$e||(i.$e=++bt)])||(f=t[a]={}),f[d]=1):r=i},wt=(e,t,r)=>{let n=0|ct[e],i=r?-1:1;n&&r!==n||he(x,e,yt,r),ct[e]=n+i,t&&(pt[e]=(0|pt[e])+i)},xt="http://www.w3.org/2000/svg",kt="http://www.w3.org/1998/Math/MathML",Vt={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],g:[1,`<svg xmlns="${xt}">`],m:[1,`<math xmlns="${kt}">`],_:[0,""]},St=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;let It=h.implementation.createHTMLDocument(o),Tt=It.createElement("base");Tt.href=h.location.href,It.head.appendChild(Tt);let Ct=(e,t)=>{if(1==t.nodeType){let r=J(t);e.$c[r]?e.unmountVframe(r,1):e.unmountZone(r,1)}},Et={INPUT:[b,"checked"],TEXTAREA:[b],OPTION:["selected"]},Pt=(e,t)=>(1==e.nodeType&&(e.$f?t=e.$g:((t=e.$a?o:u(e,"id"))||(t=u(e,v)),t||(t=u(e,P))&&(t=ge(t)[E]),e.$f=1,e.$g=t)),t),jt=(e,t,r,n,i)=>{let o,l,a,f,s,d=e.lastChild,h=t.firstChild,$=0,u={},c={};for(;d;)$++,(a=Pt(d))&&(a=u[a]||(u[a]=[])).push(d),d=d.previousSibling;for(;h;)(a=Pt(h))&&(c[a]=(c[a]||0)+1),h=h.nextSibling;for(h=t.firstChild,d=e.firstChild;h;)if($--,o=h,h=h.nextSibling,(f=u[a=Pt(o)])&&(f=f.pop())){for(;f!=d;)s=d.nextSibling,e.appendChild(d),d=s;d=f.nextSibling,c[a]&&c[a]--,Mt(f,o,e,r,n,i)}else d?(a=Pt(l=d))&&u[a]&&c[a]?($++,r.c=1,r.n.push([8,e,o,l])):(d=d.nextSibling,Mt(l,o,e,r,n,i)):(r.c=1,r.n.push([1,e,o]));for(l=e.lastChild;$-- >0;)Ct(n,l),r.n.push([2,e,l]),l=l.previousSibling,r.c=1},Mt=(e,t,r,n,i,l)=>{if(((e,t)=>{let r,n=e.nodeName,i=Et[n],o=0;if(i)for(r of i)e[r]!=t[r]&&(o=1,e[r]=t[r]);return o})(e,t)||1==e.nodeType&&e.hasAttribute("mxv")||!e.isEqualNode||!e.isEqualNode(t))if(e.nodeName===t.nodeName)if(1===e.nodeType){let r=u(t,v);if(r&&r==u(e,v))return;let f,s,d,h,$,c,p,m=u(t,P),g=t.innerHTML,w=u(t,"mxa"),x=!w||w!=u(e,"mxa"),k=nt[u(e,"id")],V=m&&ge(m);if(m&&k&&(!u(t,"id")||u(t,"id")==u(e,"id"))&&k.$j==V[E]&&(h=k.$v)){if(c=g!=k.$i,p=m!=k[E],d=u(e,"mxv"),!c&&!p&&d){$=d.split(a);for(d of $)if(d==y||W(l,d)){p=1;break}}(p||c)&&((d=h.$e&&h.$f)?($=V[C],lt(k.pId,m,$),k.$i=g,k[E]=m,V={node:t,deep:!h.tmpl,attr:x,inner:c,query:p,keys:l},Q(d,[$,V],h)&&n.v.push(h),f=V.deep):(s=1,f=1))}else f=1,s=k;s&&(n.c=1,k.unmountVframe(0,1)),x&&((e,t,r,n)=>{let i,l,a,f;delete e.$f;let s=e.attributes,d=t.attributes;for(l=s.length;l--;)i=s[l].name,t.hasAttribute(i)||("id"==i?n||r.d.push([e,o]):(r.c=1,e.removeAttribute(i)));for(l=d.length;l--;)a=(i=d[l]).name,f=i[b],u(e,a)!=f&&("id"==a?r.d.push([e,f]):(r.c=1,e.setAttribute(a,f)))})(e,t,n,k&&m),f&&jt(e,t,n,i,l)}else e.nodeValue!==t.nodeValue&&(n.c=1,e.nodeValue=t.nodeValue);else Ct(i,e),n.c=1,n.n.push([4,r,t,e])},At={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},qt=/[&<>"'\`]/g,Ot=e=>""+(null==e?"":e),Ut=e=>`&${At[e]};`,_t=e=>Ot(e).replace(qt,Ut),Ht=(e,t,r,n)=>{for(n=e[S];--n;)if(e[r=S+n]===t)return r;return e[r=S+e[S]++]=t,r},Lt={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Nt=e=>Lt[e],Dt=/[!')(*]/g,Rt=e=>encodeURIComponent(Ot(e)).replace(Dt,Nt),Zt=/[\\'"]/g,Bt=e=>Ot(e).replace(Zt,"\\$&"),zt=(e,t)=>{let r,n,i=e.$k,o=e.$c,l=e.$b,a=nt[l],f=a&&a.$v,s={d:[],v:[],n:[]},d=_(l),$=e.$d,u=e.$a,c=r=>{t.i<t.length?zt(e,t):(s=t.slice(),t.i=t.length=0,r&&f.fire("domready"),Q(s))};if(t.i=t.length,e.$c=0,e.$k={},o&&f&&f.$a>0&&(r=f.tmpl)&&f.$d==e){f.fire("dompatch"),delete mt[l],delete gt[l],n=((e,t)=>{let r,n=It.createElement("div"),i=t.namespaceURI;r=i==xt?"g":i==kt?"m":(St.exec(e)||[0,""])[1];let o=Vt[r]||Vt._;n.innerHTML=o[1]+e;let l=o[0];for(;l--;)n=n.lastChild;return n})(r($,l,u,_t,Ot,Rt,Ht,Bt),d),jt(d,n,s,a,i);for(n of s.d)n[0].id=n[1];for(n of s.n)1==n[0]?n[1].appendChild(n[2]):2==n[0]?n[1].removeChild(n[2]):4==n[0]?n[1].replaceChild(n[2],n[3]):n[1].insertBefore(n[2],n[3]);a.$d=r=s.c||!f.$e;for(n of s.v)n.$b();r&&f.endUpdate(l),s.c&&re(h,"htmlchanged",{vId:l}),c(1)}else c()};function Ft(e){let t=this;t.$b=e,t.$c=1,t.$d={vId:e},t.$a={[S]:1},t.$e=[],t.$k={}}D(Ft[T],{get(e,t){return t=this.$d,e&&(t=t[e]),t},set(e,t){let r=this;return r.$c=L(e,r.$d,r.$k,t)||r.$c,r},digest(e,t,r){let n=this.set(e,t),i=n.$e;r&&i.push(r),i.i||zt(n,i)},snapshot(){return this.$f=V(this.$d),this},altered(){let e=this;if(e.$f)return e.$f!=V(e.$d)},translate(e){return X(this.$d,e)},parse(e){return we(e,this.$a)}});let Jt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Qt=(e,t,r)=>(e.a?r=e:((r=function(e){Q(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),Wt=(e,t)=>{let r,n,i=e.$r;for(r in i)n=i[r],(t||n.x)&&Xt(i,r,1)},Xt=(e,t,r,n)=>{let i,o,a=e[t];return a&&a!=n&&((i=(o=a.e).destroy)&&r&&Q(i,l,o),delete e[t]),o},Gt=(e,t,r,n,i)=>{n=e[t],e[t]=e[r]=function(...e){(i=this).$a>0&&(i.$a++,i.fire("rendercall"),Wt(i),Q(n,e,i))}},Kt=(e,t)=>{let r,{$eo:n,$so:i,$el:o,id:l}=e;for(r in n)wt(r,i[r],t);for(r of o)he(r.e,r.n,de,t,{i:l,v:e,f:r.f,m:r.m,e:r.e})},Yt={win:s,doc:h},er=(e,t,r)=>{let n,i,o,l,a={};for(i of e)for(n in i)o=i[n],l=a[n],"ctor"!=n?(Jt.test(n)&&(l?o=Qt(l,o):o.b=1),a[n]=o):r.push(o);for(n in a)W(t,n)||(t[n]=a[n])};function tr(...e){let t=this._||(this._=[]);return er(e,this[T],t),this}let rr=e=>{if(!e[S]){e[S]=[];let t,r,n,i,o,l,f,s,d,h,$,u=e[T],c={},p=[],m={};(r=u.mixins)&&er(r,u,e[S]);for(f in u)if(t=u[f],r=f.match(Jt)){if([,l,n,i,$]=r,h={},$){$=$.split(a);for(s of $)h[s]=!0}i=i.split(a);for(s of i){if(o=Yt[n],d=1,l){if(o){p.push({f:t,e:o,n:s,m:h});continue}d=2,(o=m[s])||(o=m[s]=[]),o[n]||(o[n]=1,o.push(n))}c[s]=c[s]|d,(o=u[s=n+S+s])?o.b&&(t.b?u[s]=Qt(t,o):W(u,f)&&(u[s]=t)):u[s]=t}}Gt(u,"render","$b"),u.$eo=c,u.$el=p,u.$so=m,u.$f=u.assign}return e[S]},nr=e=>{let t,r,n,i=e.$l;if(i.f&&(i.p&&(t=je[E]),!t&&i.k)){n=je[C];for(r of i.k)if(t=W(n,r))break}return t};function ir(e,t,r,n,i){(i=this).owner=t,i.id=e,i.$l={k:[]},i.$r={},i.$a=1,i.updater=i.$d=new Ft(i.id),(e=ir._)&&Q(e,[r,{node:n,deep:!i.tmpl}],i)}D(ir,{merge:tr,extend:function e(t,r){let n=this,i=(t=t||{}).ctor,o=[];function l(e,t,r,i,a,f,s,d,h){n.call(s=this,e,t,r,i,a),f=l._,d=[r,{node:i,deep:!s.tmpl}],f&&Q(f,d,s),(h=o.concat(a)).length&&Q(h,d,s)}return i&&o.push(i),l.merge=tr,l.extend=e,te(l,n,t,r)}}),D(ir[T],ke,{init:w,beginUpdate(e,t){(t=this).$a>0&&t.$e&&t.owner.unmountZone(e,1)},endUpdate(e,t,r,n,i){(r=this).$a>0&&(e=e||r.id,t?i=t:(i=r.$e,r.$e=1),(n=r.owner).mountZone(e,t),i||c(r.wrapAsync(st),0,n))},wrapAsync(e,t){let r=this,n=r.$a;return(...i)=>{if(n>0&&n==r.$a)return e.apply(t||r,i)}},observeLocation(e,t){let n;(n=this.$l).f=1,r(e)&&(t=e[E],e=e[C]),n.p=t,e&&(n.k=(e+o).split(a))},observeState(e){this.$os=(e+o).split(a)},capture(e,t,r,n){return n=this.$r,t?(Xt(n,e,1,t),n[e]={e:t,x:r}):t=(n=n[e])&&n.e,t},release(e,t){return Xt(this.$r,e,t)},leaveTip(e,t){let r=this,n=i=>{let o="a",l="b";i.type!=m&&(o="b",l="a"),n[o]?(i.prevent(),i.reject()):t()&&(i.prevent(),n[l]=1,r.leaveConfirm(()=>{n[l]=0,i.resolve()},()=>{n[l]=0,i.reject()},e))},i=r=>{t()&&(r.msg=e)};Ge.on(m,n),Ge.on(g,i),r.on("unload",n),r.on("destroy",()=>{Ge.off(m,n),Ge.off(g,i)})},render:w}),xe.View=ir;let or=Date.now;function lr(){this.id=q("b"),this.$={}}D(lr[T],{get(t,r){let i,l=this.$;if(t){let e,r=n(t)?t.slice():(t+o).split(".");for(;(e=r.shift())&&l;)l=l[e];e&&(l=d)}return r!==d&&(i=e(r))!=e(l)&&(l=r),l},set(e,t){r(e)||(e={[e]:t}),D(this.$,e)}});function ar(e,t,r){(r=this[e])&&(delete this[e],Q(r,t,r.e))}let fr=(e,t,r,n,i,o)=>{let l=[],a=f,s=0;return function(d,h){s++;let $,u,c=this,p=c.$b,m=p.k;if(l[d+1]=c,h?(a=h,$=1):o.has(m)||(m&&o.set(m,c),p.t=or(),(u=p.a)&&Q(u,c,c),(u=p.x)&&t.clear(u),$=1),!r.$d){let t=s==n;t&&(r.$e=0,2==i&&(l[0]=a,Q(e,l,r))),1==i&&Q(e,[h||f,c,t,d],r)}$&&t.fire("end",{bag:c,error:h})}},sr=(e,t,r,i,o)=>{if(e.$d)return e;if(e.$e)return e.enqueue(sr.bind(e,e,t,r,i,o));e.$e=1,n(t)||(t=[t]);let l=e.constructor,a=0,f=l.$f,s=fr(r,l,e,t.length,i,l.$c);for(let e of t)if(e){let t,r=l.get(e,o),n=r.e,i=n.$b.k,d=s.bind(n,a++);i&&f[i]?f[i].push(d):r.u?(i&&((t=[d]).e=n,f[i]=t,d=ar.bind(f,i)),l.$s(n,d)):d()}return e};function dr(){let e=this;e.id=q("s"),e.$g=[]}D(dr[T],{all(e,t){return sr(this,e,t,2)},save(e,t){return sr(this,e,t,2,1)},one(e,t){return sr(this,e,t,1)},enqueue(e){let t=this;return t.$d||(t.$g.push(e),t.dequeue(t.$h)),t},dequeue(...e){let t,r=this;r.$e||r.$d||(r.$e=1,c(()=>{r.$e=0,r.$d||(t=r.$g.shift())&&Q(t,r.$h=e)},0))},destroy(e){(e=this).$d=1,e.$g=0}});let hr=(e,t)=>[V(t),V(e)].join(S),$r=(e,t,r,n)=>{(n=e&&e.$b)&&t[n.n]&&r.del(n.k)},ur={add(e){let t,r=this.$b;n(e)||(e=[e]);for(t of e)if(t){let{name:e,cache:n}=t;t.cache=0|n,r[e]=t}},create(e){let t=this.meta(e),n=0|e.cache||t.cache,i=new lr;i.set(t),i.$b={n:t.name,a:t.after,x:t.cleans,k:n&&hr(t,e)},r(e)&&i.set(e);let o=t.before;return o&&Q(o,i,i),this.fire("begin",{bag:i}),i},meta(e){return this.$b[e.name||e]||e},get(e,t){let r,n,i=this;return t||(r=i.cached(e)),r||(r=i.create(e),n=1),{e:r,u:n}},clear(e){this.$c.each($r,ve((e+o).split(a)))},cached(e){let t,r,n=this,i=n.$c,o=n.meta(e),l=0|e.cache||o.cache;if(l&&(r=hr(o,e)),r){let e=n.$f[r];e?t=e.e:(t=i.get(r))&&or()-t.$b.t>l&&(i.del(r),t=0)}return t},...ke};dr.extend=((e,t,r)=>{function n(){dr.call(this)}return n.$s=e,n.$c=new K(t,r),n.$f={},n.$b={},te(n,dr,f,ur)}),xe.Service=dr,D(w[T],ke),w.extend=function e(t,r){let n=this,i=t&&t.ctor;function o(...e){n.apply(this,e),i&&i.apply(this,e)}return o.extend=e,te(o,n,t,r)},xe.Base=w;export default xe